{"version":3,"names":["I18N","en","year","month","day","selectmonth","months","valueError","valueFormatfull","valueFormatcompact","required","rangeUnderflow","rangeOverflow","fr","gcdsDateInputCss","GcdsDateInput","__stencil_proxyCustomElement","HTMLElement","constructor","this","htmlValidationErrors","_validator","defaultValidator","disabled","validateOn","monthValue","dayValue","yearValue","hasError","errors","onBlur","validate","blockInvalidKeys","ev","allowed","includes","key","test","preventDefault","handleInput","e","type","val","target","value","setValue","changeEvt","el","dispatchEvent","validateName","name","push","splice","indexOf","validateLegend","legend","validateFormat","format","watchValue","splitFormValue","internals","setFormValue","updateValidity","validity","validateValidator","getValidator","validator","handleValidationResult","gcdsError","gcdsValid","lang","checkValidity","_a","valueMissing","_b","badInput","errorMessage","_c","Object","assign","_d","getValidationMessage","validationMessage","submitListener","closest","formResetCallback","initialValue","formStateRestoreCallback","state","checkAndValidateValidity","elements","monthSelect","yearInput","dayInput","unshift","valid","formError","forEach","getDateInputError","reason","badInputError","_e","_f","error","min","setDate","Date","minDate","i18n","replace","max","maxDate","typeMismatch","patternMismatch","tooLong","tooShort","stepMismatch","customError","setValidity","updateLang","observer","MutationObserver","mutations","oldValue","observe","observerConfig","length","substring","splitValue","split","validateRequiredProps","componentWillLoad","assignLanguage","requiredValidator","logError","isValidDate","componentDidLoad","autofocus","requestAnimationFrame","fieldset","focus","render","hint","form","requiredAttr","fieldsetAttrs","tabindex","hintID","trim","options","Array","from","_","i","h","label","selectId","defaultValue","onInput","onChange","class","toString","ref","map","option","inputId","inputmode","size","onKeyDown","Host","id","messageId"],"sources":["src/components/gcds-date-input/i18n/i18n.js","src/components/gcds-date-input/gcds-date-input.css?tag=gcds-date-input&encapsulation=shadow","src/components/gcds-date-input/gcds-date-input.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    year: 'Year',\n    month: 'Month',\n    day: 'Day',\n    selectmonth: 'Select a month',\n    months: {\n      '01': 'January',\n      '02': 'February',\n      '03': 'March',\n      '04': 'April',\n      '05': 'May',\n      '06': 'June',\n      '07': 'July',\n      '08': 'August',\n      '09': 'September',\n      '10': 'October',\n      '11': 'November',\n      '12': 'December',\n    },\n    valueError:\n      'gcds-date-input:  Value attribute contains an invalid date format. Expected format: ',\n    valueFormatfull: 'YYYY-MM-DD',\n    valueFormatcompact: 'YYYY-MM',\n    required: ' (required)',\n    rangeUnderflow: 'Date must be on or after {{min}}.',\n    rangeOverflow: 'Date must be on or before {{max}}.',\n  },\n  fr: {\n    year: 'Année',\n    month: 'Mois',\n    day: 'Jour',\n    selectmonth: 'Sélectionnez un mois',\n    months: {\n      '01': 'janvier',\n      '02': 'février',\n      '03': 'mars',\n      '04': 'avril',\n      '05': 'mai',\n      '06': 'juin',\n      '07': 'juillet',\n      '08': 'août',\n      '09': 'septembre',\n      '10': 'octobre',\n      '11': 'novembre',\n      '12': 'décembre',\n    },\n    valueError:\n      'gcds-date-input:  Value attribute contains an invalid date format. Expected format: ',\n    valueFormatfull: 'YYYY-MM-DD',\n    valueFormatcompact: 'YYYY-MM',\n    required: ' (obligatoire)',\n    rangeUnderflow: 'La date doit être le {{min}} ou après.',\n    rangeOverflow: 'La date doit être le {{max}} ou avant.',\n  },\n};\n\nexport default I18N;\n","@layer reset, default, hint, error;\n\n@layer reset {\n  :host {\n    display: block;\n\n    .gcds-date-input__fieldset {\n      border: 0;\n      padding: 0;\n      min-inline-size: auto;\n\n      legend {\n        padding: 0;\n      }\n    }\n  }\n}\n\n@layer default {\n  :host {\n    .gcds-date-input__fieldset legend {\n      color: var(--gcds-date-input-fieldset-text);\n      font: var(--gcds-date-input-fieldset-font-desktop);\n\n      .legend__required {\n        margin: var(--gcds-date-input-fieldset-required-margin) !important;\n        font: var(--gcds-date-input-fieldset-required-font-desktop);\n        vertical-align: middle;\n      }\n\n      @media only screen and (width < 48em) {\n        font: var(--gcds-date-input-fieldset-font-mobile);\n\n        .legend__required {\n          font: var(--gcds-date-input-fieldset-required-font-mobile);\n        }\n      }\n    }\n\n    .gcds-date-input__month,\n    .gcds-date-input__year,\n    .gcds-date-input__day {\n      display: inline-block;\n      margin-inline-end: var(--gcds-date-input-margin);\n\n      --gcds-label-font-desktop: var(--gcds-date-input-label-font-desktop);\n      --gcds-label-font-mobile: var(--gcds-date-input-label-font-mobile );\n    }\n  }\n}\n\n@layer hint {\n  :host {\n    gcds-hint {\n      margin: var(--gcds-date-input-fieldset-hint-margin);\n    }\n  }\n}\n\n@layer error {\n  :host {\n    gcds-input.gcds-date-input--error::part(input),\n    gcds-select.gcds-date-input--error::part(select) {\n      border-color: var(--gcds-date-input-danger-border);\n    }\n  }\n}\n","import {\n  Component,\n  Host,\n  Element,\n  AttachInternals,\n  Prop,\n  State,\n  Event,\n  EventEmitter,\n  Watch,\n  Method,\n  Listen,\n  h,\n} from '@stencil/core';\nimport {\n  assignLanguage,\n  observerConfig,\n  isValidDate,\n  logError,\n  handleValidationResult,\n} from '../../utils/utils';\nimport {\n  Validator,\n  defaultValidator,\n  ValidatorEntry,\n  getValidator,\n  requiredValidator,\n} from '../../validators';\nimport i18n from './i18n/i18n';\nimport { getDateInputError } from '../../validators/input-validators/input-validators';\n\n/**\n * A date input is a space to enter a known date.\n */\n@Component({\n  tag: 'gcds-date-input',\n  styleUrl: 'gcds-date-input.css',\n  shadow: { delegatesFocus: true },\n  formAssociated: true,\n})\nexport class GcdsDateInput {\n  @Element() el: HTMLElement;\n\n  @AttachInternals()\n  internals: ElementInternals;\n\n  private initialValue?: string;\n\n  private fieldset?: HTMLFieldSetElement;\n  private yearInput?: HTMLGcdsInputElement;\n  private monthSelect?: HTMLGcdsSelectElement;\n  private dayInput?: HTMLGcdsInputElement;\n\n  // Array to store which native HTML errors are happening on the input\n  private htmlValidationErrors = [];\n\n  _validator: Validator<string> = defaultValidator;\n\n  /**\n   * Name attribute for the date input.\n   */\n  @Prop() name!: string;\n  @Watch('name')\n  validateName() {\n    if (!this.name) {\n      this.errors.push('name');\n    } else if (this.errors.includes('name')) {\n      this.errors.splice(this.errors.indexOf('name'), 1);\n    }\n  }\n\n  /**\n   * Fieldset legend\n   */\n  @Prop() legend!: string;\n  @Watch('legend')\n  validateLegend() {\n    if (!this.legend) {\n      this.errors.push('legend');\n    } else if (this.errors.includes('legend')) {\n      this.errors.splice(this.errors.indexOf('legend'), 1);\n    }\n  }\n\n  /**\n   * Set this property to full to show month, day, and year form elements. Set it to compact to show only the month and year form elements.\n   */\n  @Prop() format!: 'full' | 'compact';\n  @Watch('format')\n  validateFormat() {\n    if (!this.format || (this.format != 'full' && this.format != 'compact')) {\n      this.errors.push('format');\n    } else if (this.errors.includes('format')) {\n      this.errors.splice(this.errors.indexOf('format'), 1);\n    }\n  }\n\n  /**\n   * Combined date value from the two/three form elements. Format: YYYY-MM-DD or YYYY-MM\n   */\n  @Prop({ mutable: true }) value?: string;\n  @Watch('value')\n  watchValue() {\n    if (this.value) {\n      this.splitFormValue();\n      this.internals.setFormValue(this.value);\n    } else {\n      this.yearValue = '';\n      this.monthValue = '';\n      this.dayValue = '';\n      this.internals.setFormValue(null);\n    }\n    this.updateValidity();\n  }\n\n  /**\n   * Specifies if a form field is required or not.\n   */\n  @Prop() required?: boolean = false;\n\n  /**\n   * Hint displayed below the legend and above form fields.\n   */\n  @Prop() hint?: string;\n\n  /**\n   * Error message displayed below the legend and above form fields.\n   */\n  @Prop({ mutable: true }) errorMessage?: string;\n\n  /**\n   * Specifies if the date input is disabled or not.\n   */\n  @Prop({ mutable: true }) disabled?: boolean = false;\n\n  /**\n   * If true, the date-input will be focused on component render\n   */\n  @Prop({ reflect: true }) autofocus: boolean;\n\n  /**\n   * The maximum date that the date-input field can accept.\n   * Format: YYYY-MM-DD or YYYY-MM\n   */\n  @Prop({ reflect: true }) max?: string;\n\n  /**\n   * The minimum date that the date-input field can accept.\n   * Format: YYYY-MM-DD or YYYY-MM\n   */\n  @Prop({ reflect: true }) min?: string;\n\n\n  /**\n   * The ID of the form that the date-input field belongs to.\n   */\n  @Prop({ reflect: true }) form?: string;\n\n  /**\n   * Read-only property of the date-input, returns a ValidityState object that represents the validity states this element is in.\n   */\n  @Prop()\n  get validity() {\n    return this.internals.validity;\n  }\n\n  /**\n   * Array of validators\n   */\n  @Prop({ mutable: true }) validator: Array<\n    string | ValidatorEntry | Validator<string>\n  >;\n  @Watch('validator')\n  validateValidator() {\n    this._validator = getValidator(this.validator);\n  }\n\n  /**\n   * Set event to call validator\n   */\n  @Prop({ mutable: true }) validateOn: 'blur' | 'submit' | 'other' = 'blur';\n\n  /**\n   * States\n   */\n\n  /**\n   * State to track individual month value\n   */\n  @State() monthValue: string = '';\n\n  /**\n   * State to track individual month value\n   */\n  @State() dayValue: string = '';\n\n  /**\n   * State to track individual month value\n   */\n  @State() yearValue: string = '';\n\n  /**\n   * Specifies if the date input is invalid.\n   */\n  @State() hasError: object = {\n    day: false,\n    month: false,\n    year: false,\n  };\n\n  /**\n   * State to track validation on properties\n   * Contains a list of properties that have an error associated with them\n   */\n  @State() errors: Array<string> = [];\n\n  /**\n   * Language of rendered date input\n   */\n  @State() lang: string;\n\n  /**\n   * Events\n   */\n\n  /**\n   * Emitted when a date-input has focus.\n   */\n  @Event() gcdsFocus!: EventEmitter<void>;\n\n  /**\n   * Emitted when a date-input loses focus.\n   */\n  @Event() gcdsBlur!: EventEmitter<void>;\n\n  private onBlur = () => {\n    if (this.validateOn == 'blur') {\n      this.validate();\n    }\n  };\n\n  /**\n   * Emitted when the date-input has received input. Contains the new value in the event detail.\n   */\n  @Event() gcdsInput: EventEmitter<string>;\n\n  /**\n   * Emitted when a date-input has changed. Contains the new value in the event detail.\n   */\n  @Event() gcdsChange: EventEmitter<string>;\n\n  /**\n   * Emitted when a date-input has a validation error.\n   */\n  @Event() gcdsError!: EventEmitter<object>;\n\n  /**\n   * Emitted when a date-input has validated.\n   */\n  @Event() gcdsValid!: EventEmitter<object>;\n\n  /**\n   * Call any active validators\n   */\n  @Method()\n  async validate() {\n    this.hasError = handleValidationResult(\n      this.el as HTMLGcdsDateInputElement,\n      this._validator.validate(\n        this.format === 'full'\n          ? `${this.yearValue}-${this.monthValue}-${this.dayValue}`\n          : `${this.yearValue}-${this.monthValue}`,\n      ),\n      this.legend,\n      this.gcdsError,\n      this.gcdsValid,\n      this.lang,\n      { day: false, month: false, year: false },\n    );\n\n    // Don't use the valueMissing and badInput errors here since they are handled by the validator above\n    if (!this.internals.checkValidity() && !this.internals.validity?.valueMissing && !this.internals.validity?.badInput) {\n      this.errorMessage = this.htmlValidationErrors[0]?.errorMessage;\n      this.hasError = {\n        ...this.hasError,\n        ...this.htmlValidationErrors[0]?.hasError,\n      }\n    }\n  }\n\n  /**\n   * Check the validity of gcds-date-input\n   */\n  @Method()\n  public async checkValidity(): Promise<boolean> {\n    return this.internals.checkValidity();\n  }\n\n  /**\n   * Get validationMessage of gcds-date-input\n   */\n  @Method()\n  public async getValidationMessage(): Promise<string> {\n    return this.internals.validationMessage;\n  }\n\n  /*\n   * Event listeners\n   */\n\n  @Listen('submit', { target: 'document' })\n  async submitListener(e) {\n    if (e.target == this.el.closest('form')) {\n      if (this.validateOn && this.validateOn != 'other') {\n        this.validate();\n      }\n\n      for (const key in this.hasError) {\n        if (this.hasError[key] && this.validateOn != 'other') {\n          e.preventDefault();\n        }\n      }\n    }\n  }\n\n  /*\n   * Form internal functions\n   */\n\n  formResetCallback() {\n    if (this.value != this.initialValue) {\n      this.internals.setFormValue(this.initialValue);\n      this.value = this.initialValue;\n    }\n  }\n\n  formStateRestoreCallback(state) {\n    this.internals.setFormValue(state);\n    this.value = state;\n  }\n\n  /*\n   * Combine validity states of internal form elements and validate\n   * Returns combined ValidityState, array of elements with errors and error message\n   */\n  private checkAndValidateValidity() {\n    // Order elements based on format and language\n    const elements = [this.monthSelect, this.yearInput];\n    if (this.format === 'full') {\n      this.lang === 'en' ? elements.splice(1, 0, this.dayInput) : elements.unshift(this.dayInput);\n    }\n\n    this.htmlValidationErrors = [];\n    let valid = true;\n    let valueMissing = false;\n    let badInput = false;\n    let rangeUnderflow = false;\n    let rangeOverflow = false;\n    let formError = [];\n    let errorMessage = null;\n\n    // Check if required or some value has been entered\n    if (this.required || this.value != null) {\n      elements.forEach(el => {\n        // valueMissing validation\n        if (el.value === '' || el.value == null) {\n          valueMissing = true;\n          valid = false;\n          formError.push(el);\n        }\n      });\n      errorMessage = getDateInputError({\n        day: this.dayInput?.value,\n        month: this.monthSelect?.value,\n        year: this.yearInput?.value\n      }, this.format).reason[this.lang];\n    }\n\n    // Check if any field has bad input\n    if (this.required && !valueMissing) {\n      const badInputError = getDateInputError({\n        day: this.dayInput?.value,\n        month: this.monthSelect?.value,\n        year: this.yearInput?.value\n      }, this.format);\n\n      if (badInputError.reason.en != '') {\n        badInput = true;\n        errorMessage = badInputError.reason[this.lang];\n        formError = elements;\n        this.htmlValidationErrors.push({\n          error: 'badInput',\n          hasError: badInputError.errors,\n          errorMessage\n        });\n      }\n    }\n\n    // Only check min if all values are present and valid\n    if (this.value != null && this.min && !valueMissing && !badInput) {\n      const setDate = new Date(this.value);\n      const minDate = new Date(this.min);\n\n      if (setDate < minDate) {\n        valid = false;\n        rangeUnderflow = true;\n        formError = elements;\n        errorMessage = i18n[this.lang].rangeUnderflow.replace('{{min}}', this.min);\n        this.htmlValidationErrors.push({\n          error: 'rangeUnderflow',\n          hasError: { day: true, month: true, year: true },\n          errorMessage\n        });\n      }\n    }\n\n    // Only check max if all values are present, valid and no min error\n    if (this.value != null && this.max && !valueMissing && !badInput && !rangeUnderflow) {\n      const setDate = new Date(this.value);\n      const maxDate = new Date(this.max);\n\n      if (setDate > maxDate) {\n        valid = false;\n        rangeOverflow = true;\n        errorMessage = i18n[this.lang].rangeOverflow.replace('{{max}}', this.max);\n        this.htmlValidationErrors.push({\n          error: 'rangeOverflow',\n          hasError: { day: true, month: true, year: true },\n          errorMessage\n        });\n        formError = elements;\n      }\n    }\n\n\n    const validity: ValidityState = {\n      valueMissing,\n      typeMismatch: false,\n      patternMismatch: false,\n      tooLong: false,\n      tooShort: false,\n      rangeUnderflow,\n      rangeOverflow,\n      stepMismatch: false,\n      badInput,\n      customError: false,\n      valid,\n    };\n\n    return {\n      validity,\n      formError,\n      errorMessage\n    }\n  }\n\n  /**\n   * Update gcds-date-input's validity using internal form elements\n   */\n  private updateValidity() {\n    if ((this.format === 'full' && (!this.yearInput || !this.monthSelect || !this.dayInput)) || (this.format === 'compact' && (!this.yearInput || !this.monthSelect))) return;\n    const { validity, formError, errorMessage } = this.checkAndValidateValidity();\n\n    let validationMessage = null;\n    if (validity?.valueMissing || validity?.badInput || validity?.rangeUnderflow || validity?.rangeOverflow) {\n      validationMessage = errorMessage;\n    }\n\n    this.internals.setValidity(\n      validity,\n      validationMessage,\n      formError[0],\n    );\n  }\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  /*\n   * Block non-numeric keys in year and day inputs\n   * This replicates how a number input would function\n   */\n  private blockInvalidKeys = (ev: KeyboardEvent) => {\n    const allowed = [\n      'Backspace',\n      'Delete',\n      'ArrowLeft',\n      'ArrowRight',\n      'Tab',\n      'Home',\n      'End',\n    ];\n\n    if (allowed.includes(ev.key)) return;\n\n    if (!/^\\d$/.test(ev.key)) {\n      ev.preventDefault();\n    }\n  };\n\n  /*\n   * Handle input event to update state\n   */\n  private handleInput = (e, type) => {\n    const val = e.target && e.target.value;\n\n    if (type === 'year') {\n      this.yearValue = val;\n    } else if (type === 'month') {\n      this.monthValue = val;\n    } else if (type === 'day') {\n      this.dayValue = val;\n    }\n\n    this.setValue();\n\n    if (e.type === 'change') {\n      const changeEvt = new e.constructor(e.type, e);\n      this.el.dispatchEvent(changeEvt);\n    }\n  };\n\n  /**\n   * Logic to combine all input values together based on format\n   */\n  private setValue() {\n    const { monthValue, format } = this;\n    let { yearValue, dayValue } = this;\n\n    // Logic to make sure the day input is registered correctly\n    if (dayValue && dayValue.length === 1 && dayValue != '0') {\n      dayValue = '0' + dayValue;\n      this.dayValue = dayValue;\n    } else if (dayValue && dayValue.length == 3 && dayValue[0] === '0') {\n      dayValue = dayValue.substring(1);\n      this.dayValue = dayValue;\n    }\n\n    // Clean up year and day values by removing any e, E or - characters\n    dayValue = dayValue?.replace(/[eE-]/g, '');\n    yearValue = yearValue?.replace(/[eE-]/g, '');\n\n    if (format === 'full') {\n      this.value = `${yearValue}-${monthValue}-${dayValue}`;\n    } else if (format === 'compact') {\n      this.value = `${yearValue}-${monthValue}`;\n    }\n\n    this.internals.setFormValue(this.value);\n    this.updateValidity();\n\n    return true;\n  }\n\n  /**\n   * Split value into parts depending on format\n   */\n  private splitFormValue() {\n    if (this.format == 'compact') {\n      const splitValue = this.value.split('-');\n      this.yearValue = splitValue[0];\n      this.monthValue = splitValue[1];\n    } else {\n      const splitValue = this.value.split('-');\n      this.yearValue = splitValue[0];\n      this.monthValue = splitValue[1];\n      this.dayValue = splitValue[2];\n    }\n  }\n\n  private validateRequiredProps() {\n    this.validateName();\n    this.validateLegend();\n    this.validateFormat();\n\n    if (\n      this.errors.includes('name') ||\n      this.errors.includes('legend') ||\n      this.errors.includes('format')\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    // Assign required validator if needed\n    requiredValidator(this.el, 'date-input');\n\n    this.validateValidator();\n\n    const valid = this.validateRequiredProps();\n\n    if (!valid) {\n      logError('gcds-date-input', this.errors);\n    }\n\n    this.watchValue();\n\n    if (this.value && isValidDate(this.value)) {\n      this.splitFormValue();\n      this.setValue();\n\n      this.initialValue = this.value;\n    }\n  }\n\n  async componentDidLoad() {\n    this.updateValidity();\n\n    // Logic to enable autofocus\n    if (this.autofocus) {\n      requestAnimationFrame(() => {\n        this.fieldset?.focus();\n      });\n    }\n  }\n\n  render() {\n    const {\n      legend,\n      name,\n      format,\n      required,\n      hint,\n      errorMessage,\n      disabled,\n      lang,\n      hasError,\n      form,\n    } = this;\n\n    const requiredAttr = {};\n\n    if (required) {\n      requiredAttr['aria-required'] = 'true';\n    }\n\n    const fieldsetAttrs = {\n      'tabindex': '-1',\n      'aria-labelledby': 'date-input-legend',\n    };\n\n    if (hint) {\n      const hintID = this.hint ? `date-input-hint ` : '';\n      fieldsetAttrs['aria-labelledby'] =\n        `${fieldsetAttrs['aria-labelledby']} ${hintID}`.trim();\n    }\n\n    // Array of months 01 - 12\n    const options = Array.from({ length: 12 }, (_, i) =>\n      i + 1 < 10 ? `0${i + 1}` : `${i + 1}`,\n    );\n\n    const month = (\n      <gcds-select\n        label={i18n[lang].month}\n        selectId=\"month\"\n        name=\"month\"\n        defaultValue={i18n[lang].selectmonth}\n        disabled={disabled}\n        onInput={e => this.handleInput(e, 'month')}\n        onChange={e => this.handleInput(e, 'month')}\n        value={this.monthValue}\n        class={`gcds-date-input__month ${hasError['month'] ? 'gcds-date-input--error' : ''}`}\n        {...requiredAttr}\n        aria-invalid={hasError['month'].toString()}\n        aria-description={hasError['month'] && errorMessage}\n        form={form}\n        ref={el => (this.monthSelect = el as HTMLGcdsSelectElement)}\n      >\n        {options.map(option => (\n          <option key={option} value={option}>\n            {i18n[lang]['months'][option]}\n          </option>\n        ))}\n      </gcds-select>\n    );\n\n    const year = (\n      <gcds-input\n        name=\"year\"\n        label={i18n[lang].year}\n        inputId=\"year\"\n        type=\"text\"\n        inputmode=\"numeric\"\n        size={4}\n        disabled={disabled}\n        value={this.yearValue}\n        onInput={e => this.handleInput(e, 'year')}\n        onChange={e => this.handleInput(e, 'year')}\n        onKeyDown={this.blockInvalidKeys}\n        class={`gcds-date-input__year ${hasError['year'] ? 'gcds-date-input--error' : ''}`}\n        validate-on='other'\n        {...requiredAttr}\n        aria-invalid={hasError['year'].toString()}\n        aria-description={hasError['year'] && errorMessage}\n        form={form}\n        ref={el => (this.yearInput = el as HTMLGcdsInputElement)}\n      ></gcds-input>\n    );\n\n    const day = (\n      <gcds-input\n        name=\"day\"\n        label={i18n[lang].day}\n        inputId=\"day\"\n        type=\"text\"\n        inputmode=\"numeric\"\n        size={2}\n        disabled={disabled}\n        value={this.dayValue}\n        onInput={e => this.handleInput(e, 'day')}\n        onChange={e => this.handleInput(e, 'day')}\n        onKeyDown={this.blockInvalidKeys}\n        validate-on='other'\n        class={`gcds-date-input__day ${hasError['day'] ? 'gcds-date-input--error' : ''}`}\n        {...requiredAttr}\n        aria-invalid={hasError['day'].toString()}\n        aria-description={hasError['day'] && errorMessage}\n        form={form}\n        ref={el => (this.dayInput = el as HTMLGcdsInputElement)}\n      ></gcds-input>\n    );\n\n    return (\n      <Host name={name} onBlur={() => this.onBlur()}>\n        {this.validateRequiredProps() && (\n          <fieldset\n            class=\"gcds-date-input__fieldset\"\n            {...fieldsetAttrs}\n            ref={el => (this.fieldset = el as HTMLFieldSetElement)}\n          >\n            <legend id=\"date-input-legend\">\n              {legend}\n              {required ? (\n                <span class=\"legend__required\">{i18n[lang].required}</span>\n              ) : null}\n            </legend>\n            {hint ? (\n              <gcds-hint id=\"date-input-hint\" hint-id=\"date-input\">\n                {hint}\n              </gcds-hint>\n            ) : null}\n            {errorMessage ? (\n              <div>\n                <gcds-error-message\n                  id=\"date-input-error\"\n                  messageId=\"date-input\"\n                >\n                  {errorMessage}\n                </gcds-error-message>\n              </div>\n            ) : null}\n            {format == 'compact'\n              ? [month, year]\n              : lang == 'en'\n                ? [month, day, year]\n                : [day, month, year]}\n          </fieldset>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}