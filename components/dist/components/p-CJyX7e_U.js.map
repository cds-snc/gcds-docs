{"version":3,"names":["gcdsSelectCss","GcdsSelect","__stencil_proxyCustomElement","HTMLElement","constructor","this","selectTitle","_validator","defaultValidator","hideLabel","required","disabled","validateOn","inheritedAttributes","handleInput","e","customEvent","val","target","value","internals","setFormValue","type","changeEvt","el","dispatchEvent","updateValidity","emit","onBlur","validate","gcdsBlur","validateDisabledSelect","watchValue","shadowElement","checkIfValidValue","validateErrorMessage","errorMessage","hasError","validity","validateValidator","getValidator","validator","validateHasError","ariaInvalidWatcher","inheritAttributes","ariaDescriptiondWatcher","handleValidationResult","label","gcdsError","gcdsValid","lang","checkValidity","getValidationMessage","validationMessage","submitListener","closest","preventDefault","checkValueOrSelected","option","getAttribute","setAttribute","initialValue","hasAttribute","isValid","options","forEach","nodeName","optionValue","subOptions","Array","from","children","map","sub","subOptionValue","formResetCallback","formStateRestoreCallback","state","valueMissing","setValidity","observeOptions","config","attributes","childList","characterData","subtree","observer","MutationObserver","observe","updateLang","mutations","oldValue","observerConfig","componentWillLoad","assignLanguage","requiredValidator","componentDidLoad","autofocus","requestAnimationFrame","_a","focus","render","selectId","defaultValue","hint","name","form","autocomplete","attrsSelect","Object","assign","title","attrsLabel","hintID","errorID","h","Host","key","class","messageId","id","onFocus","gcdsFocus","onInput","gcdsInput","onChange","gcdsChange","part","ref","element","selected","opt","textContent","optGroupChildren"],"sources":["src/components/gcds-select/gcds-select.css?tag=gcds-select&encapsulation=shadow","src/components/gcds-select/gcds-select.tsx"],"sourcesContent":["@layer reset, default, disabled, error, focus;\n\n@layer reset {\n  :host {\n    display: block;\n\n    .gcds-select-wrapper {\n      margin: 0;\n      padding: 0;\n      border: 0;\n\n      select {\n        box-sizing: border-box;\n      }\n\n      slot {\n        display: initial;\n      }\n    }\n  }\n}\n\n@layer default {\n  :host .gcds-select-wrapper {\n    max-width: 75ch;\n    font: var(--gcds-select-font-desktop);\n    color: var(--gcds-select-default-text);\n    transition: color ease-in-out 0.15s;\n\n    @media only screen and (width < 48em) {\n      font: var(--gcds-select-font-mobile);\n    }\n\n    select {\n      display: block;\n      min-width: var(--gcds-select-min-width-and-height);\n      max-width: 100%;\n      height: auto;\n      min-height: var(--gcds-select-min-width-and-height);\n      font: inherit;\n      margin: var(--gcds-select-margin) !important;\n      padding: var(--gcds-select-padding) !important;\n      background-color: var(--gcds-select-default-background);\n      color: var(--gcds-select-default-text);\n      border: var(--gcds-select-border-width) solid currentColor;\n      border-radius: var(--gcds-select-border-radius);\n      box-sizing: border-box;\n      transition: all ease-in-out 0.15s;\n\n      /* Select arrow */\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      background-image: url(\"data:image/svg+xml;utf8,<svg width='16' height='10' viewBox='0 0 16 10' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M0.799988 0.900024L7.79999 7.90003L14.8 0.900024' stroke='currentColor' stroke-width='2'/></svg>\");\n      background-repeat: no-repeat;\n      background-position-x: var(--gcds-select-arrow-position-x);\n      background-position-y: 50%;\n    }\n  }\n}\n\n@layer disabled {\n  :host .gcds-select-wrapper.gcds-disabled {\n    color: var(--gcds-select-disabled-text);\n\n    gcds-label {\n      --gcds-label-text: currentColor;\n    }\n\n    gcds-hint {\n      --gcds-hint-text: currentColor;\n    }\n\n    select:disabled {\n      cursor: not-allowed;\n      background-color: var(--gcds-select-disabled-background);\n      border-color: var(--gcds-select-disabled-text);\n    }\n  }\n}\n\n@layer error {\n  :host .gcds-select-wrapper.gcds-error:not(:focus-within) select {\n    border-color: var(--gcds-select-danger-border);\n  }\n}\n\n@layer focus {\n  :host .gcds-select-wrapper:focus-within select:focus {\n    border-color: var(--gcds-select-focus-border);\n    outline: var(--gcds-select-outline-width) solid\n      var(--gcds-select-focus-border);\n    outline-offset: var(--gcds-select-border-width);\n    box-shadow: var(--gcds-select-focus-box-shadow);\n  }\n}\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  Prop,\n  Watch,\n  State,\n  Method,\n  Host,\n  h,\n  Listen,\n  AttachInternals,\n} from '@stencil/core';\nimport {\n  assignLanguage,\n  handleValidationResult,\n  inheritAttributes,\n  observerConfig,\n} from '../../utils/utils';\nimport {\n  Validator,\n  defaultValidator,\n  ValidatorEntry,\n  getValidator,\n  requiredValidator,\n} from '../../validators';\n\n/**\n * A select provides a large list of options for single selection.\n *\n * @slot default - Slot for options and option groups.\n */\n@Component({\n  tag: 'gcds-select',\n  styleUrl: 'gcds-select.css',\n  shadow: { delegatesFocus: true },\n  formAssociated: true,\n})\nexport class GcdsSelect {\n  @Element() el: HTMLElement;\n\n  @AttachInternals()\n  internals: ElementInternals;\n\n  private initialValue?: string;\n\n  private shadowElement?: HTMLSelectElement;\n\n  private selectTitle: string = '';\n\n  _validator: Validator<string> = defaultValidator;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Id attribute for a select element.\n   */\n  @Prop({ reflect: true, mutable: true }) selectId!: string;\n\n  /**\n   * Form field label.\n   */\n  @Prop({ reflect: true, mutable: false }) label!: string;\n\n  /**\n   * Specifies if the label is hidden or not.\n   */\n  @Prop() hideLabel?: boolean = false;\n\n  /**\n   * Name attribute for select form element.\n   */\n  @Prop({ reflect: true, mutable: false }) name!: string;\n\n  /**\n   * Specifies if a form field is required or not.\n   */\n  @Prop({ reflect: true, mutable: false }) required?: boolean = false;\n\n  /**\n   * Specifies if a select element is disabled or not.\n   */\n  @Prop({ reflect: true, mutable: true }) disabled?: boolean = false;\n\n  @Watch('disabled')\n  validateDisabledSelect() {\n    if (this.required) {\n      this.disabled = false;\n    }\n  }\n\n  /**\n   * The default value is an optional value that gets displayed before the user selects an option.\n   */\n  @Prop({ reflect: true, mutable: false }) defaultValue?: string;\n\n\n  /**\n   * If true, the select will be focused on component render\n   */\n  @Prop({ reflect: true }) autofocus: boolean;\n\n  /**\n   * The ID of the form that the select field belongs to.\n   */\n  @Prop({ reflect: true }) form?: string;\n\n  /**\n   * String to have autocomplete enabled.\n   */\n  @Prop() autocomplete?: string;\n\n  /**\n   * Value for a select element.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  @Watch('value')\n  watchValue(val) {\n    if (!this.shadowElement) return;\n\n    if (val && this.checkIfValidValue(val)) {\n      this.internals.setFormValue(val);\n      this.shadowElement.value = val;\n    } else {\n      this.internals.setFormValue(null);\n      this.value = null;\n    }\n\n    this.updateValidity();\n  }\n\n  /**\n   * Error message for an invalid select element.\n   */\n  @Prop({ reflect: true, mutable: true }) errorMessage?: string;\n  @Watch('errorMessage')\n  validateErrorMessage() {\n    if (this.disabled) {\n      this.errorMessage = '';\n    } else if (!this.hasError && this.errorMessage) {\n      this.hasError = true;\n    } else if (this.errorMessage == '') {\n      this.hasError = false;\n    }\n  }\n\n  /**\n   * Hint displayed below the label.\n   */\n  @Prop({ reflect: true, mutable: false }) hint?: string;\n\n  /**\n   * Read-only property of the select, returns a ValidityState object that represents the validity states this element is in.\n   */\n  @Prop()\n  get validity() {\n    return this.internals.validity;\n  }\n\n  /**\n   * Array of validators\n   */\n  @Prop({ mutable: true }) validator: Array<\n    string | ValidatorEntry | Validator<string>\n  >;\n\n  @Watch('validator')\n  validateValidator() {\n    this._validator = getValidator(this.validator);\n  }\n\n  /**\n   * Set event to call validator\n   */\n  @Prop({ mutable: true }) validateOn: 'blur' | 'submit' | 'other' = 'blur';\n\n  /**\n   * Specifies if the select is invalid.\n   */\n  @State() hasError: boolean;\n  @Watch('hasError')\n  validateHasError() {\n    if (this.disabled) {\n      this.hasError = false;\n    }\n  }\n\n  /**\n   * Set additional HTML attributes not available in component properties\n   */\n  @State() inheritedAttributes: Object = {};\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /**\n   * List of passed options\n   */\n  @State() options: Element[];\n\n  /**\n   * Watch HTML attribute aria-invalid to inherit changes\n   */\n  @Watch('aria-invalid')\n  ariaInvalidWatcher() {\n    this.inheritedAttributes = inheritAttributes(this.el, this.shadowElement);\n  }\n  @Watch('aria-description')\n  ariaDescriptiondWatcher() {\n    this.inheritedAttributes = inheritAttributes(this.el, this.shadowElement);\n  }\n\n  /**\n   * Events\n   */\n\n  /**\n   * Emitted when the select value has changed.\n   */\n  @Event() gcdsChange: EventEmitter<string>;\n\n  /**\n   * Emitted when the select has received input.\n   */\n  @Event() gcdsInput: EventEmitter<string>;\n\n  private handleInput = (e, customEvent) => {\n    const val = e.target && e.target.value;\n    this.value = val;\n    this.internals.setFormValue(val);\n\n    if (e.type === 'change') {\n      const changeEvt = new e.constructor(e.type, e);\n      this.el.dispatchEvent(changeEvt);\n    } else {\n      this.updateValidity();\n    }\n\n    customEvent.emit(this.value);\n  };\n\n  /**\n   * Emitted when the select has focus.\n   */\n  @Event() gcdsFocus!: EventEmitter<void>;\n\n  /**\n   * Emitted when the select loses focus.\n   */\n  @Event() gcdsBlur!: EventEmitter<void>;\n\n  private onBlur = () => {\n    if (this.validateOn === 'blur') {\n      this.validate();\n    }\n\n    this.gcdsBlur.emit();\n  };\n\n  /**\n   * Call any active validators\n   */\n  @Method()\n  async validate() {\n    handleValidationResult(\n      this.el as HTMLGcdsSelectElement,\n      this._validator.validate(this.value),\n      this.label,\n      this.gcdsError,\n      this.gcdsValid,\n      this.lang,\n    );\n\n\n    this.selectTitle = this.errorMessage;\n  }\n\n  /**\n   * Check the validity of gcds-select\n   */\n  @Method()\n  public async checkValidity(): Promise<boolean> {\n    return this.internals.checkValidity();\n  }\n\n  /**\n   * Get validationMessage of gcds-select\n   */\n  @Method()\n  public async getValidationMessage(): Promise<string> {\n    return this.internals.validationMessage;\n  }\n\n  /**\n   * Emitted when the select has a validation error.\n   */\n  @Event() gcdsError!: EventEmitter<object>;\n\n  /**\n   * Emitted when the select has a validation error.\n   */\n  @Event() gcdsValid!: EventEmitter<object>;\n\n  @Listen('submit', { target: 'document' })\n  submitListener(e) {\n    if (e.target == this.el.closest('form')) {\n      if (this.validateOn && this.validateOn != 'other') {\n        this.validate();\n      }\n\n      if (this.hasError && this.validateOn != 'other') {\n        e.preventDefault();\n      }\n    }\n  }\n\n  /**\n   * Check if an option is selected or value matches an option's value\n   */\n  private checkValueOrSelected(option) {\n    const value = option.getAttribute('value');\n\n    if (this.value === value) {\n      option.setAttribute('selected', 'true');\n      this.internals.setFormValue(value);\n      this.initialValue = this.value;\n    } else if (option.hasAttribute('selected')) {\n      this.value = value;\n      this.internals.setFormValue(value);\n      this.initialValue = this.value ? this.value : null;\n    }\n  }\n\n  private checkIfValidValue(value: string) {\n    let isValid = false;\n\n    this.options.forEach(option => {\n      if (option.nodeName === 'OPTION') {\n        const optionValue = option.getAttribute('value');\n\n        if (optionValue === value) {\n          isValid = true;\n        }\n      } else if (option.nodeName === 'OPTGROUP') {\n        const subOptions = Array.from(option.children);\n\n        subOptions.map(sub => {\n          const subOptionValue = sub.getAttribute('value');\n\n          if (subOptionValue === value) {\n            isValid = true;\n          }\n        });\n      }\n    });\n\n    return isValid;\n  }\n\n  /*\n   * Form internal functions\n   */\n  formResetCallback() {\n    if (this.value != this.initialValue) {\n      this.internals.setFormValue(this.initialValue);\n      this.value = this.initialValue;\n    }\n  }\n\n  formStateRestoreCallback(state) {\n    this.internals.setFormValue(state);\n    this.value = state;\n  }\n\n  /**\n   * Update gcds-select's validity using internal select\n   */\n  private updateValidity() {\n    if (!this.shadowElement) return;\n\n    const validity = this.shadowElement.validity;\n\n    let validationMessage = null;\n    if (validity?.valueMissing) {\n      validationMessage = this.lang === 'en' ? 'Choose an option to continue.' : 'Choisissez une option pour continuer.';\n    }\n\n    this.internals.setValidity(\n      validity,\n      validationMessage,\n      this.shadowElement,\n    );\n\n    // Set select title when HTML error occruring\n    this.selectTitle = validationMessage;\n  }\n\n  /*\n   * Observe passed options and update if change\n   */\n  observeOptions() {\n    const config = {\n      attributes: false,\n      childList: true,\n      characterData: true,\n      subtree: true,\n    };\n    const observer = new MutationObserver(() => {\n      this.options = Array.from(this.el.children);\n      // Reset value to null to prevent unwanted selection\n      this.value = null;\n    });\n    observer.observe(this.el, config);\n  }\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    this.validateDisabledSelect();\n    this.validateHasError();\n    this.validateErrorMessage();\n\n    // Assign required validator if needed\n    requiredValidator(this.el, 'select');\n\n    this.validateValidator();\n\n    this.inheritedAttributes = inheritAttributes(this.el, this.shadowElement);\n\n    if (this.el.children) {\n      this.options = Array.from(this.el.children);\n\n      this.options.forEach(option => {\n        if (option.nodeName === 'OPTION') {\n          this.checkValueOrSelected(option);\n        } else if (option.nodeName === 'OPTGROUP') {\n          const subOptions = Array.from(option.children);\n\n          subOptions.map(sub => {\n            this.checkValueOrSelected(sub);\n          });\n        }\n      });\n      this.value = this.checkIfValidValue(this.value) ? this.value : null;\n    }\n  }\n\n  async componentDidLoad() {\n    this.observeOptions();\n\n    this.updateValidity();\n\n    // Logic to enable autofocus\n    if (this.autofocus) {\n      requestAnimationFrame(() => {\n        this.shadowElement?.focus();\n      });\n    }\n  }\n\n  render() {\n    const {\n      lang,\n      selectId,\n      label,\n      hideLabel,\n      required,\n      disabled,\n      defaultValue,\n      value,\n      hint,\n      errorMessage,\n      inheritedAttributes,\n      hasError,\n      name,\n      options,\n      selectTitle,\n      autofocus,\n      form,\n      autocomplete,\n    } = this;\n\n    const attrsSelect = {\n      name,\n      disabled,\n      required,\n      value,\n      title: selectTitle,\n      autofocus,\n      form,\n      autocomplete,\n      ...inheritedAttributes,\n    };\n\n    const attrsLabel = {\n      label,\n      required,\n    };\n\n    if (hint || errorMessage) {\n      const hintID = hint ? `hint-${selectId} ` : '';\n      const errorID = errorMessage ? `error-message-${selectId} ` : '';\n\n      attrsSelect['aria-describedby'] = `${hintID}${errorID}${attrsSelect['aria-describedby']\n        ? `${attrsSelect['aria-describedby']}`\n        : ''\n        }`;\n    }\n\n    return (\n      <Host>\n        <div\n          class={`gcds-select-wrapper ${disabled ? 'gcds-disabled' : ''} ${hasError ? 'gcds-error' : ''\n            }`}\n        >\n          <gcds-label\n            {...attrsLabel}\n            hide-label={hideLabel}\n            label-for={selectId}\n            lang={lang}\n          />\n\n          {hint ? <gcds-hint hint-id={selectId}>{hint}</gcds-hint> : null}\n\n          {errorMessage ? (\n            <gcds-error-message messageId={selectId}>\n              {errorMessage}\n            </gcds-error-message>\n          ) : null}\n\n          <select\n            {...attrsSelect}\n            id={selectId}\n            onBlur={() => this.onBlur()}\n            onFocus={() => this.gcdsFocus.emit()}\n            onInput={e => this.handleInput(e, this.gcdsInput)}\n            onChange={e => this.handleInput(e, this.gcdsChange)}\n            aria-invalid={\n              inheritedAttributes['aria-invalid'] === 'true'\n                ? inheritedAttributes['aria-invalid']\n                : errorMessage\n                  ? 'true'\n                  : 'false'\n            }\n            part=\"select\"\n            ref={element => (this.shadowElement = element as HTMLSelectElement)}\n          >\n            {defaultValue ? (\n              <option value=\"\" disabled selected>\n                {defaultValue}\n              </option>\n            ) : null}\n            {options.map(opt => {\n              if (opt.nodeName === 'OPTION') {\n                const selected = opt.hasAttribute('selected')\n                  ? { selected: true }\n                  : null;\n\n                return (\n                  <option value={opt.getAttribute('value')} {...selected}>\n                    {opt.textContent}\n                  </option>\n                );\n              } else if (opt.nodeName === 'OPTGROUP') {\n                const optGroupChildren = Array.from(opt.children).map(sub => {\n                  const selected = sub.hasAttribute('selected')\n                    ? { selected: true }\n                    : null;\n\n                  return (\n                    <option value={sub.getAttribute('value')} {...selected}>\n                      {sub.textContent}\n                    </option>\n                  );\n                });\n\n                return (\n                  <optgroup label={opt.getAttribute('label')}>\n                    {optGroupChildren}\n                  </optgroup>\n                );\n              }\n            })}\n          </select>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}