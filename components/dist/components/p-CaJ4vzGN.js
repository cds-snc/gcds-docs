import{p as t,H as e,d as s,h as i,c as r}from"./p-Bid1IElL.js";import{i as a,h as n,o,a as h}from"./p-BphlHDEW.js";import{d,g as c,r as u}from"./p-BwGU8uxz.js";import{d as l}from"./p-BPUZBykJ.js";import{d as p}from"./p-COMIv74k.js";import{d as m}from"./p-CkVRd3cw.js";import{d as g}from"./p-A25Hiffv.js";import{d as b}from"./p-C4FL9OV7.js";const f={en:{valueMissing:"Enter information to continue.",typeMismatch:{email:"Enter a valid email address to continue. Use a standard format. Example: name@address.ca.",url:"Enter a URL in the specified format to continue."},patternMismatch:"Use the specified format to continue.",tooLong:"Enter {max} characters or less to continue. You've entered {current} characters.",tooShort:"Enter at least {min} characters to continue. You've entered {current} characters.",rangeUnderflow:"Enter a number that's {min} or more to continue.",rangeOverflow:"Enter a number that's {max} or less to continue.",stepMismatch:"Enter a number from the specified options to continue. The closest numbers to what you entered are {lower} and {upper}. ",badInput:"Enter a number to continue."},fr:{valueMissing:"Saisissez des renseignements pour continuer.",typeMismatch:{email:"Saisissez votre adresse courriel pour continuer. Utilisez un format standard. Exemple: nom@adresse.ca.",url:"Entrez une adresse Web en utilisant le format spécifié pour continuer."},patternMismatch:"Utilisez le format spécifié pour continuer.",tooLong:"Entrez {max} caractères ou moins pour continuer. Vous en avez présentement {current}.",tooShort:"Entrez au moins {min} caractères pour continuer. Vous en avez présentement {current}.",rangeUnderflow:"Entrez un nombre plus grand ou égal à {min} pour continuer.",rangeOverflow:"Entrez un nombre plus petit ou égal à {max} pour continuer.",stepMismatch:"Entrez un nombre parmi les options spécifiées pour continuer. Les nombres les plus proches de votre entrée sont {lower} et {upper}.",badInput:"Entrez un nombre pour continuer."}};const v="@layer reset, default, disabled, error, focus;@layer reset{:host{display:block}:host .gcds-input-wrapper{border:0;margin:0;padding:0}:host .gcds-input-wrapper input{box-sizing:border-box}}@layer default{:host .gcds-input-wrapper{color:var(--gcds-input-default-text);font:var(--gcds-input-font);max-width:75ch;transition:color .15s ease-in-out;width:100%}:host .gcds-input-wrapper input{background-color:var(--gcds-input-default-background);background-image:none;border:var(--gcds-input-border-width) solid;border-radius:var(--gcds-input-border-radius);color:var(--gcds-input-default-text);display:block;font:inherit!important;height:auto;margin:var(--gcds-input-margin)!important;max-width:100%;min-height:var(--gcds-input-min-width-and-height);min-width:var(--gcds-input-min-width-and-height);padding:var(--gcds-input-padding)!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out,outline .15s ease-in-out;width:100%}:host .gcds-input-wrapper input[type=number]{-moz-appearance:textfield}:host .gcds-input-wrapper input[type=number]::-webkit-inner-spin-button,:host .gcds-input-wrapper input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none}}@layer disabled{:host .gcds-input-wrapper.gcds-disabled{color:var(--gcds-input-disabled-text)}:host .gcds-input-wrapper.gcds-disabled gcds-label{--gcds-label-text:currentColor}:host .gcds-input-wrapper.gcds-disabled gcds-hint{--gcds-hint-text:currentColor}:host .gcds-input-wrapper.gcds-disabled input:disabled{background-color:var(--gcds-input-disabled-background);border-color:var(--gcds-input-disabled-text);cursor:not-allowed}}@layer error{:host .gcds-input-wrapper input.gcds-error:not(:focus){border-color:var(--gcds-input-danger-border)}}@layer focus{:host .gcds-input-wrapper:focus-within input:focus{border-color:var(--gcds-input-focus-border);box-shadow:var(--gcds-input-focus-box-shadow);outline:var(--gcds-input-outline-width) solid var(--gcds-input-focus-border);outline-offset:var(--gcds-input-border-width)}}";const w=t(class t extends e{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsFocus=s(this,"gcdsFocus");this.gcdsBlur=s(this,"gcdsBlur");this.gcdsInput=s(this,"gcdsInput");this.gcdsChange=s(this,"gcdsChange");this.gcdsError=s(this,"gcdsError");this.gcdsValid=s(this,"gcdsValid");this.internals=this.attachInternals();this.htmlValidationErrors=[];this.inputTitle="";this._validator=d;this.disabled=false;this.hideLabel=false;this.required=false;this.type="text";this.validateOn="blur";this.inheritedAttributes={};this.onBlur=()=>{if(this.validateOn=="blur"){this.validate()}this.gcdsBlur.emit()};this.handleInput=(t,e)=>{const s=t.target&&t.target.value;this.value=s;this.internals.setFormValue(s?s:null);if(t.type==="change"){const e=new t.constructor(t.type,t);this.el.dispatchEvent(e)}else{this.updateValidity()}e.emit(this.value)}}validateDisabledInput(){if(this.required){this.disabled=false}}validateErrorMessage(){if(this.disabled){this.errorMessage=""}else if(!this.hasError&&this.errorMessage){this.hasError=true}else if(this.errorMessage==""){this.hasError=false}}watchValue(t){this.internals.setFormValue(t?t:null)}get validity(){return this.internals.validity}validateValidator(){this._validator=c(this.validator)}validateHasError(){if(this.disabled){this.hasError=false}}ariaInvalidWatcher(){this.inheritedAttributes=a(this.el,this.shadowElement)}ariaDescriptiondWatcher(){this.inheritedAttributes=a(this.el,this.shadowElement)}async validate(){n(this.el,this._validator.validate(this.value),this.label,this.gcdsError,this.gcdsValid,this.lang);if(this.required&&!this.internals.checkValidity()||!this.internals.checkValidity()){if(!this.internals.validity.valueMissing){this.errorMessage=this.formatHTMLErrorMessage();this.inputTitle=this.errorMessage}}}async checkValidity(){return this.internals.checkValidity()}async getValidationMessage(){return this.internals.validationMessage}submitListener(t){if(t.target==this.el.closest("form")){if(this.validateOn&&this.validateOn!="other"){this.validate()}if(this.hasError&&this.validateOn!="other"){t.preventDefault()}}}keyDownListener(t){if(t.target==this.el&&t.key==="Enter"){const t=document.createElement("button");t.type="submit";t.style.display="none";this.el.closest("form").appendChild(t);t.click();t.remove()}}formResetCallback(){if(this.value!=this.initialValue){this.internals.setFormValue(this.initialValue);this.value=this.initialValue}}formStateRestoreCallback(t){this.internals.setFormValue(t);this.value=t}updateValidity(t){const e=this.shadowElement.validity;this.htmlValidationErrors=[];for(const t in e){if(e[t]===true&&t!=="valid"){this.htmlValidationErrors.push(t)}}for(const e in t){this.htmlValidationErrors.push(e)}const s=t?Object.assign(Object.assign({},this.shadowElement.validity),t):this.shadowElement.validity;const i=this.htmlValidationErrors.length>0?this.formatHTMLErrorMessage():null;this.internals.setValidity(s,i,this.shadowElement);this.inputTitle=this.htmlValidationErrors.length>0?this.formatHTMLErrorMessage():""}formatHTMLErrorMessage(){switch(this.htmlValidationErrors[0]){case"valueMissing":return f[this.lang][this.htmlValidationErrors[0]];case"typeMismatch":if(this.type==="url"||this.type==="email"){return f[this.lang][this.htmlValidationErrors[0]][this.type]}else{return f[this.lang][this.htmlValidationErrors[0]]}case"tooLong":return f[this.lang][this.htmlValidationErrors[0]].replace("{max}",this.maxlength).replace("{current}",this.value.length);case"tooShort":return f[this.lang][this.htmlValidationErrors[0]].replace("{min}",this.minlength).replace("{current}",this.value.length);case"rangeUnderflow":return f[this.lang][this.htmlValidationErrors[0]].replace("{min}",this.min);case"rangeOverflow":return f[this.lang][this.htmlValidationErrors[0]].replace("{max}",this.max);case"stepMismatch":return f[this.lang][this.htmlValidationErrors[0]].replace("{lower}",Math.floor(Number(this.value)/Number(this.step))*Number(this.step)).replace("{upper}",Math.floor(Number(this.value)/Number(this.step))*Number(this.step)+Number(this.step));case"badInput":case"patternMismatch":default:return f[this.lang][this.htmlValidationErrors[0]]}}updateLang(){const t=new MutationObserver((t=>{if(t[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));t.observe(this.el,o)}async componentWillLoad(){this.lang=h(this.el);this.updateLang();this.validateDisabledInput();this.validateHasError();this.validateErrorMessage();u(this.el,"input",this.type);this.validateValidator();this.inheritedAttributes=a(this.el,this.shadowElement);this.internals.setFormValue(this.value?this.value:null);this.initialValue=this.value?this.value:null}componentDidLoad(){let t;if(this.value&&(this.minlength||this.maxlength)){if(this.minlength&&this.value.length<this.minlength){t={tooShort:true}}else if(this.maxlength&&this.value.length>this.maxlength){t={tooLong:true}}}this.updateValidity(t);if(this.autofocus){requestAnimationFrame((()=>{var t;(t=this.shadowElement)===null||t===void 0?void 0:t.focus()}))}}render(){const{disabled:t,errorMessage:e,hideLabel:s,hint:a,inputId:n,name:o,label:h,required:d,size:c,type:u,value:l,hasError:p,autocomplete:m,autofocus:g,form:b,max:f,maxlength:v,min:w,minlength:y,pattern:E,readonly:x,step:k,inputTitle:M,inheritedAttributes:z,lang:L}=this;const I={maxWidth:`calc(${c*2}ch + 1.5rem)`};const V=Object.assign({disabled:t,required:d,type:u,autocomplete:m,autofocus:g,form:b,max:f,maxlength:v,min:w,minlength:y,pattern:E,readonly:x,step:k,value:l,title:M},z);const j={label:h,required:d};if(a||e){const t=a?`hint-${n} `:"";const s=e?`error-message-${n} `:"";V["aria-describedby"]=`${t}${s}${V["aria-describedby"]?` ${V["aria-describedby"]}`:""}`}return i(r,{key:"75bc6a272bf06f77191758dc056487e47bd36e4a"},i("div",{key:"43c8ca490d32e6a4f6c76ee837da3ab9e87dd392",class:`gcds-input-wrapper ${t?"gcds-disabled":""} ${p?"gcds-error":""}`},i("gcds-label",Object.assign({key:"90ca9c61c11a47914b4650bb910525fb1430b045"},j,{"hide-label":s,"label-for":n,lang:L})),a?i("gcds-hint",{"hint-id":n},a):null,e?i("gcds-error-message",{messageId:n},e):null,i("input",Object.assign({key:"cf6d091d72cf584c1df8f407ff8d86afd6b4547f"},V,{class:p?"gcds-error":null,id:n,name:o,onBlur:()=>this.onBlur(),onFocus:()=>this.gcdsFocus.emit(),onInput:t=>this.handleInput(t,this.gcdsInput),onChange:t=>this.handleInput(t,this.gcdsChange),"aria-labelledby":`label-for-${n}`,"aria-invalid":z["aria-invalid"]==="true"?z["aria-invalid"]:e?"true":"false",size:c,style:c?I:null,part:"input",ref:t=>this.shadowElement=t}))))}static get delegatesFocus(){return true}static get formAssociated(){return true}get el(){return this}static get watchers(){return{disabled:["validateDisabledInput"],errorMessage:["validateErrorMessage"],value:["watchValue"],validator:["validateValidator"],hasError:["validateHasError"],"aria-invalid":["ariaInvalidWatcher"],"aria-description":["ariaDescriptiondWatcher"]}}static get style(){return v}},[81,"gcds-input",{disabled:[1028],errorMessage:[1025,"error-message"],hideLabel:[4,"hide-label"],hint:[1],inputId:[1,"input-id"],name:[1],label:[1],required:[4],size:[2],type:[1],value:[1025],autocomplete:[1],autofocus:[516],form:[513],max:[520],maxlength:[514],min:[520],minlength:[514],pattern:[513],readonly:[516],step:[520],validity:[2064],validator:[1040],validateOn:[1025,"validate-on"],inheritedAttributes:[32],hasError:[32],lang:[32],validate:[64],checkValidity:[64],getValidationMessage:[64]},[[4,"submit","submitListener"],[4,"keydown","keyDownListener"]],{disabled:["validateDisabledInput"],errorMessage:["validateErrorMessage"],value:["watchValue"],validator:["validateValidator"],hasError:["validateHasError"],"aria-invalid":["ariaInvalidWatcher"],"aria-description":["ariaDescriptiondWatcher"]}]);function y(){if(typeof customElements==="undefined"){return}const t=["gcds-input","gcds-error-message","gcds-hint","gcds-icon","gcds-label","gcds-text"];t.forEach((t=>{switch(t){case"gcds-input":if(!customElements.get(t)){customElements.define(t,w)}break;case"gcds-error-message":if(!customElements.get(t)){l()}break;case"gcds-hint":if(!customElements.get(t)){p()}break;case"gcds-icon":if(!customElements.get(t)){m()}break;case"gcds-label":if(!customElements.get(t)){g()}break;case"gcds-text":if(!customElements.get(t)){b()}break}}))}export{w as G,y as d};
//# sourceMappingURL=p-CaJ4vzGN.js.map