import{p as s,H as e,c,h as a,d as t}from"./p-BQgY5XdM.js";import{o as r,a as o,e as d}from"./p-UMQcBsvp.js";import{d as h}from"./p-CilYoTm6.js";import{d as i}from"./p-BwC_j5YS.js";import{d as n}from"./p-Q5n6GMRG.js";import{d as g}from"./p-DsBMhwRl.js";const l={en:{search:"Search",searchLabel:"Search {$}"},fr:{search:"Recherche",searchLabel:"Rechercher dans {$}"}};const b="@layer reset, default, focus;@layer reset{:host{display:block}:host .gcds-search input{background-image:none;box-sizing:border-box}:host [type=search]::-webkit-search-cancel-button,:host [type=search]::-webkit-search-decoration{-webkit-appearance:none;appearance:none}}@layer default{:host .gcds-search .gcds-search__header{display:block;height:0;margin:0;overflow:hidden;width:0}:host .gcds-search .gcds-search__form{display:flex;margin:var(--gcds-search-margin)!important}:host .gcds-search input{background-color:var(--gcds-search-default-background);border:var(--gcds-search-border-width) solid var(--gcds-search-border-color);border-radius:0;border-right:0 solid transparent;box-sizing:border-box;color:var(--gcds-search-default-text);font:var(--gcds-search-font);max-height:var(--gcds-search-max-height);padding:var(--gcds-search-padding)!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:100%}:host .gcds-search input::placeholder{color:var(--gcds-search-placeholder)}:host .gcds-search gcds-button{--gcds-button-mobile-margin:0}:host .gcds-search gcds-button::part(button){border-radius:0;height:var(--gcds-search-button-width-height);padding:0;width:var(--gcds-search-button-width-height)}}@layer focus{:host .gcds-search input:focus{border-color:var(--gcds-search-focus-border-color);border-width:var(--gcds-search-focus-border-width);box-shadow:var(--gcds-search-focus-box-shadow);margin:var(--gcds-search-focus-margin);outline:var(--gcds-search-outline-width) solid var(--gcds-search-focus-border-color);outline-offset:var(--gcds-search-border-width);z-index:30}:host .gcds-search ::part(button):focus{box-shadow:var(--gcds-search-focus-box-shadow)}}";const u=s(class s extends e{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsInput=c(this,"gcdsInput");this.gcdsChange=c(this,"gcdsChange");this.gcdsFocus=c(this,"gcdsFocus");this.gcdsBlur=c(this,"gcdsBlur");this.gcdsSubmit=c(this,"gcdsSubmit");this.placeholder="Canada.ca";this.action="/sr/srb.html";this.method="get";this.name="q";this.searchId="search";this.handleInput=(s,e)=>{const c=s.target;this.value=c.value;e.emit(this.value)}}updateLang(){const s=new MutationObserver((s=>{if(s[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));s.observe(this.el,r)}async componentWillLoad(){this.lang=o(this.el)}render(){const{placeholder:s,action:e,method:c,name:r,value:o,lang:h,searchId:i,suggested:n}=this;const g=`${l[h].searchLabel.replace("{$}",s)}`;const b={name:r,placeholder:g};const u=e==="/sr/srb.html"?`https://www.canada.ca/${h}/sr/srb.html`:e;return a(t,{key:"6f097c6decfc75124cfb075d08d9538fac97f247"},a("section",{key:"cac50e05b5b1993c7b582c077b52ebc0347c684d",class:"gcds-search"},a("gcds-sr-only",{key:"da41472fe9dc9dc4278a4324c5c59727bf659737",tag:"h2"},l[h].search),a("form",{key:"d8daa855f964aea373212e226410c18a174fc2f7",action:u,method:c,role:"search",onSubmit:s=>d(s,this.gcdsSubmit,this.value),class:"gcds-search__form"},a("gcds-label",{key:"eaa37cf81c073de64d06459be03f3d11bb35ee8b",label:g,"label-for":i,"hide-label":true}),a("input",Object.assign({key:"7efdfeecf78cd58fae9fe13300da38a0883c40b2",type:"search",id:i},n?{list:"search-list"}:{},{size:34,maxLength:170,onInput:s=>this.handleInput(s,this.gcdsInput),onChange:s=>this.handleInput(s,this.gcdsChange),onFocus:()=>this.gcdsFocus.emit(),onBlur:()=>this.gcdsBlur.emit()},b,{class:"gcds-search__input",value:o})),n&&a("datalist",{key:"a8c7737d2ad864cc08ac28fa19a4c3a4f2dbf654",id:"search-list"},n.map(((s,e)=>a("option",{value:s,key:e})))),a("gcds-button",{key:"b999f4297899ff1441b1fd201f14762b942b896a",type:"submit",class:"gcds-search__button",exportparts:"button"},a("gcds-icon",{key:"148d9e7fb4265b12093070af8b0604341d300994",name:"search",label:l[h].search,size:"h3"})))))}get el(){return this}static get style(){return b}},[1,"gcds-search",{placeholder:[1],action:[1],method:[1],name:[1],searchId:[1,"search-id"],value:[1025],suggested:[16],lang:[32]}]);function f(){if(typeof customElements==="undefined"){return}const s=["gcds-search","gcds-button","gcds-icon","gcds-label","gcds-sr-only"];s.forEach((s=>{switch(s){case"gcds-search":if(!customElements.get(s)){customElements.define(s,u)}break;case"gcds-button":if(!customElements.get(s)){h()}break;case"gcds-icon":if(!customElements.get(s)){i()}break;case"gcds-label":if(!customElements.get(s)){n()}break;case"gcds-sr-only":if(!customElements.get(s)){g()}break}}))}const m=u;const p=f;export{m as GcdsSearch,p as defineCustomElement};
//# sourceMappingURL=gcds-search.js.map