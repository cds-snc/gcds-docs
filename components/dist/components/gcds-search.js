import{p as s,H as e,c as t,h as a,d as c}from"./p-BQgY5XdM.js";import{o as r,a as o,e as d}from"./p-DOKR5HKI.js";import{d as h}from"./p-DsYUH8BG.js";import{d as i}from"./p-CwNv12Ch.js";import{d as n}from"./p-Cc9yC5rG.js";import{d as g}from"./p-DsBMhwRl.js";const l={en:{search:"Search",searchLabel:"Search {$}"},fr:{search:"Recherche",searchLabel:"Rechercher dans {$}"}};const b="@layer reset, default, focus;@layer reset{:host{display:block}:host .gcds-search input{background-image:none;box-sizing:border-box}:host [type=search]::-webkit-search-cancel-button,:host [type=search]::-webkit-search-decoration{-webkit-appearance:none;appearance:none}}@layer default{:host .gcds-search .gcds-search__header{display:block;height:0;margin:0;overflow:hidden;width:0}:host .gcds-search .gcds-search__form{display:flex;margin:var(--gcds-search-margin)!important}:host .gcds-search input{background-color:var(--gcds-search-default-background);border:var(--gcds-search-border-width) solid var(--gcds-search-border-color);border-radius:0;border-right:0 solid transparent;box-sizing:border-box;color:var(--gcds-search-default-text);font:var(--gcds-search-font);max-height:var(--gcds-search-max-height);padding:var(--gcds-search-padding)!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:100%}:host .gcds-search input::placeholder{color:var(--gcds-search-placeholder)}:host .gcds-search gcds-button{--gcds-button-mobile-margin:0}:host .gcds-search gcds-button::part(button){border-radius:0;height:var(--gcds-search-button-width-height);padding:0;width:var(--gcds-search-button-width-height)}}@layer focus{:host .gcds-search input:focus{border-color:var(--gcds-search-focus-border-color);border-width:var(--gcds-search-focus-border-width);box-shadow:var(--gcds-search-focus-box-shadow);margin:var(--gcds-search-focus-margin);outline:var(--gcds-search-outline-width) solid var(--gcds-search-focus-border-color);outline-offset:var(--gcds-search-border-width);z-index:30}:host .gcds-search ::part(button):focus{box-shadow:var(--gcds-search-focus-box-shadow)}}";const u=s(class s extends e{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsInput=t(this,"gcdsInput");this.gcdsChange=t(this,"gcdsChange");this.gcdsFocus=t(this,"gcdsFocus");this.gcdsBlur=t(this,"gcdsBlur");this.gcdsSubmit=t(this,"gcdsSubmit");this.placeholder="Canada.ca";this.action="/sr/srb.html";this.method="get";this.name="q";this.searchId="search";this.suggestedArray=null;this.handleInput=(s,e)=>{const t=s.target;this.value=t.value;e.emit(this.value)}}watchSuggestedHandler(){if(this.suggested==null||this.suggested.length===0){this.suggestedArray=null;return}if(typeof this.suggested==="string"){try{this.suggested=JSON.parse(this.suggested)}catch(s){console.error("gcds-search: suggested prop is not valid JSON string",s);this.suggestedArray=null;return}}this.suggestedArray=this.suggested}updateLang(){const s=new MutationObserver((s=>{if(s[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));s.observe(this.el,r)}async componentWillLoad(){this.lang=o(this.el);this.watchSuggestedHandler();this.updateLang()}render(){const{placeholder:s,action:e,method:t,name:r,value:o,lang:h,searchId:i,suggestedArray:n}=this;const g=`${l[h].searchLabel.replace("{$}",s)}`;const b={name:r,placeholder:g};const u=e==="/sr/srb.html"?`https://www.canada.ca/${h}/sr/srb.html`:e;return a(c,{key:"a8447a475cd01c2470f0fcf59a811c7878993b45"},a("section",{key:"85cd42252e0d347f31ed2cb00b34636e6c26eccc",class:"gcds-search"},a("gcds-sr-only",{key:"750462bb0db188d542c56725d9b2e5ae76a3f4bb",tag:"h2"},l[h].search),a("form",{key:"f8874db21951a4aeaa63e72f9ad186dae48e1470",action:u,method:t,role:"search",onSubmit:s=>d(s,this.gcdsSubmit,this.value),class:"gcds-search__form"},a("gcds-label",{key:"3397eebceaaa860ec6a33a3f04adbe02885051ae",label:g,"label-for":i,"hide-label":true}),a("input",Object.assign({key:"6e8919b8ed8ccefd290672bd785b825a2aec5e19",type:"search",id:i},n?{list:"search-list"}:{},{size:34,maxLength:170,onInput:s=>this.handleInput(s,this.gcdsInput),onChange:s=>this.handleInput(s,this.gcdsChange),onFocus:()=>this.gcdsFocus.emit(),onBlur:()=>this.gcdsBlur.emit()},b,{class:"gcds-search__input",value:o})),n&&a("datalist",{key:"d2447eb6daceafbb51cf617bf206d381f5b53629",id:"search-list"},n.map(((s,e)=>a("option",{value:s,key:e})))),a("gcds-button",{key:"ba672e2400fd432988f4dd01c5f176b15b6b3716",type:"submit",class:"gcds-search__button",exportparts:"button"},a("gcds-icon",{key:"61eaab4eaac77486c49136af763793310d1e3c49",name:"search",label:l[h].search,size:"h3"})))))}get el(){return this}static get watchers(){return{suggested:["watchSuggestedHandler"]}}static get style(){return b}},[1,"gcds-search",{placeholder:[1],action:[1],method:[1],name:[1],searchId:[1,"search-id"],value:[1025],suggested:[1025],lang:[32],suggestedArray:[32]},undefined,{suggested:["watchSuggestedHandler"]}]);function f(){if(typeof customElements==="undefined"){return}const s=["gcds-search","gcds-button","gcds-icon","gcds-label","gcds-sr-only"];s.forEach((s=>{switch(s){case"gcds-search":if(!customElements.get(s)){customElements.define(s,u)}break;case"gcds-button":if(!customElements.get(s)){h()}break;case"gcds-icon":if(!customElements.get(s)){i()}break;case"gcds-label":if(!customElements.get(s)){n()}break;case"gcds-sr-only":if(!customElements.get(s)){g()}break}}))}const p=u;const m=f;export{p as GcdsSearch,m as defineCustomElement};
//# sourceMappingURL=gcds-search.js.map