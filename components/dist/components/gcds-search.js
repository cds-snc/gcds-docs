import{p as s,H as e,d as a,h as c,c as t}from"./p-Bid1IElL.js";import{o as r,a as o,e as d}from"./p-BphlHDEW.js";import{d as h}from"./p-B6LAHTxl.js";import{d as i}from"./p-CkVRd3cw.js";import{d as n}from"./p-A25Hiffv.js";import{d as l}from"./p-C0IKfDRB.js";const g={en:{search:"Search",searchLabel:"Search {$}"},fr:{search:"Recherche",searchLabel:"Rechercher dans {$}"}};const b="@layer reset, default, focus;@layer reset{:host{display:block}:host .gcds-search input{background-image:none;box-sizing:border-box}:host [type=search]::-webkit-search-cancel-button,:host [type=search]::-webkit-search-decoration{-webkit-appearance:none;appearance:none}}@layer default{:host .gcds-search .gcds-search__header{display:block;height:0;margin:0;overflow:hidden;width:0}:host .gcds-search .gcds-search__form{display:flex;margin:var(--gcds-search-margin)!important}:host .gcds-search input{background-color:var(--gcds-search-default-background);border:var(--gcds-search-border-width) solid var(--gcds-search-border-color);border-radius:0;border-right:0 solid transparent;box-sizing:border-box;color:var(--gcds-search-default-text);font:var(--gcds-search-font);max-height:var(--gcds-search-max-height);padding:var(--gcds-search-padding)!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:100%}:host .gcds-search input::placeholder{color:var(--gcds-search-placeholder)}:host .gcds-search gcds-button{--gcds-button-mobile-margin:0}:host .gcds-search gcds-button::part(button){border-radius:0;height:var(--gcds-search-button-width-height);padding:0;width:var(--gcds-search-button-width-height)}}@layer focus{:host .gcds-search input:focus{border-color:var(--gcds-search-focus-border-color);border-width:var(--gcds-search-focus-border-width);box-shadow:var(--gcds-search-focus-box-shadow);margin:var(--gcds-search-focus-margin);outline:var(--gcds-search-outline-width) solid var(--gcds-search-focus-border-color);outline-offset:var(--gcds-search-border-width);z-index:30}:host .gcds-search ::part(button):focus{box-shadow:var(--gcds-search-focus-box-shadow)}}";const f=s(class s extends e{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsInput=a(this,"gcdsInput");this.gcdsChange=a(this,"gcdsChange");this.gcdsFocus=a(this,"gcdsFocus");this.gcdsBlur=a(this,"gcdsBlur");this.gcdsSubmit=a(this,"gcdsSubmit");this.placeholder="Canada.ca";this.action="/sr/srb.html";this.method="get";this.name="q";this.searchId="search";this.handleInput=(s,e)=>{const a=s.target;this.value=a.value;e.emit(this.value)}}updateLang(){const s=new MutationObserver((s=>{if(s[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));s.observe(this.el,r)}async componentWillLoad(){this.lang=o(this.el)}render(){const{placeholder:s,action:e,method:a,name:r,value:o,lang:h,searchId:i,suggested:n}=this;const l=`${g[h].searchLabel.replace("{$}",s)}`;const b={name:r,placeholder:l};const f=e==="/sr/srb.html"?`https://www.canada.ca/${h}/sr/srb.html`:e;return c(t,{key:"6003a4328016e3ab9eddaeaa7eee74ddc7883781"},c("section",{key:"5e722fa35d2b75334bb8f94e1cec56ff08f7f924",class:"gcds-search"},c("gcds-sr-only",{key:"4faad88756c1deefa1805192dafc2372ba11e9c8",tag:"h2"},g[h].search),c("form",{key:"9e9cff3feda729f515513745b8e6200d0295f14d",action:f,method:a,role:"search",onSubmit:s=>d(s,this.gcdsSubmit,this.value),class:"gcds-search__form"},c("gcds-label",{key:"92789bd493f9d1cdddf87b234a29159df035c67f",label:l,"label-for":i,"hide-label":true}),c("input",Object.assign({key:"dba6da70f0898867e73506f399d4f5e6e1359c8c",type:"search",id:i},n?{list:"search-list"}:{},{size:34,maxLength:170,onInput:s=>this.handleInput(s,this.gcdsInput),onChange:s=>this.handleInput(s,this.gcdsChange),onFocus:()=>this.gcdsFocus.emit(),onBlur:()=>this.gcdsBlur.emit()},b,{class:"gcds-search__input",value:o})),n&&c("datalist",{key:"fe818f0ecbc29e356fcd022261df068e071ca90b",id:"search-list"},n.map(((s,e)=>c("option",{value:s,key:e})))),c("gcds-button",{key:"0533f32d7cefa496a764e7c515d8feb41cf406ff",type:"submit",class:"gcds-search__button",exportparts:"button"},c("gcds-icon",{key:"9abebcaa3eca5f4ea50b6a13a6745e0e25c6f619",name:"search",label:g[h].search,size:"h3"})))))}get el(){return this}static get style(){return b}},[1,"gcds-search",{placeholder:[1],action:[1],method:[1],name:[1],searchId:[1,"search-id"],value:[1025],suggested:[16],lang:[32]}]);function u(){if(typeof customElements==="undefined"){return}const s=["gcds-search","gcds-button","gcds-icon","gcds-label","gcds-sr-only"];s.forEach((s=>{switch(s){case"gcds-search":if(!customElements.get(s)){customElements.define(s,f)}break;case"gcds-button":if(!customElements.get(s)){h()}break;case"gcds-icon":if(!customElements.get(s)){i()}break;case"gcds-label":if(!customElements.get(s)){n()}break;case"gcds-sr-only":if(!customElements.get(s)){l()}break}}))}const m=f;const p=u;export{m as GcdsSearch,p as defineCustomElement};
//# sourceMappingURL=gcds-search.js.map