{"version":3,"names":["I18N","en","next","previous","previousMobile","nextPage","previousPage","pageNumber","pageNumberOf","fr","constructHref","url","page","end","fragment","qs","count","key","queryStrings","queryKey","queryValue","includes","incrementer","split","regExp","matches","exec","replace","Number","href","constructClasses","current","total","gcdsPaginationCss","GcdsPagination","__stencil_proxyCustomElement","HTMLElement","constructor","this","listitems","mobilePrevNext","display","watchCurrentPage","newValue","currentStep","urlChanged","newUrl","urlObject","JSON","parse","watchLang","configureListPagination","configurePaginationStep","mobile","linkAttrs","tabindex","lang","totalPages","label","onBlur","gcdsBlur","emit","onFocus","gcdsFocus","onClick","e","emitEvent","gcdsClick","currentPage","h","Object","assign","class","name","push","previousEllipses","nextEllipses","i","updateLang","observer","MutationObserver","mutations","oldValue","el","observe","observerConfig","componentWillLoad","assignLanguage","componentDidUpdate","render","previousHref","previousLabel","nextHref","nextLabel","Host","role"],"sources":["src/components/gcds-pagination/i18n/i18n.js","src/components/gcds-pagination/utils/render.tsx","src/components/gcds-pagination/gcds-pagination.css?tag=gcds-pagination&encapsulation=shadow","src/components/gcds-pagination/gcds-pagination.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    next: 'Next',\n    previous: 'Previous',\n    previousMobile: 'Prev',\n    nextPage: 'Next page',\n    previousPage: 'Previous page',\n    pageNumber: 'Page {#}',\n    pageNumberOf: 'Page {#} of {total} of {label}',\n  },\n  fr: {\n    next: 'Suivante',\n    previous: 'Précédent',\n    previousMobile: 'Préc.',\n    nextPage: 'Page suivante',\n    previousPage: 'Page précédente',\n    pageNumber: 'Page {#}',\n    pageNumberOf: 'Page {#} sur {total} des {label}',\n  },\n};\n\nexport default I18N;\n","/**\n * Function to constuct href attribute from url object\n * Also looks for ::offset and ::match to increment query string values\n */\nfunction constructHref(url, page: number, end?: 'next' | 'previous' | null) {\n  let fragment = '';\n  let qs = '';\n\n  let count = 0;\n\n  for (const key in url.queryStrings) {\n    let queryKey = key;\n    let queryValue = url.queryStrings[key];\n\n    if (key.includes('::')) {\n      const incrementer = key.split('::')[1];\n      const regExp = /\\{\\{([^)]+)\\}\\}/;\n      const matches = regExp.exec(url.queryStrings[key]);\n\n      // Offeset numbers\n      if (incrementer == 'offset') {\n        let pageNumber = page;\n\n        if (end == 'next') {\n          ++pageNumber;\n        } else if (end == 'previous') {\n          --pageNumber;\n        }\n\n        queryValue = matches\n          ? url.queryStrings[key].replace(\n              `{{${matches[1]}}}`,\n              `${(pageNumber - 1) * Number(matches[1])}`,\n            )\n          : (pageNumber - 1) * url.queryStrings[key];\n\n        queryKey = queryKey.replace('::offset', '');\n      }\n\n      // Match page number\n      if (incrementer == 'match') {\n        let pageNumber = page;\n\n        if (end == 'next') {\n          ++pageNumber;\n        } else if (end == 'previous') {\n          --pageNumber;\n        }\n\n        queryValue = matches\n          ? url.queryStrings[key].replace(\n              `{{${matches[1]}}}`,\n              `${pageNumber * Number(matches[1])}`,\n            )\n          : pageNumber * url.queryStrings[key];\n\n        queryKey = queryKey.replace('::match', '');\n      }\n    }\n\n    if (count == 0) {\n      qs += `?${queryKey}=${queryValue}`;\n    } else {\n      qs += `&${queryKey}=${queryValue}`;\n    }\n    ++count;\n  }\n\n  if (url.fragment) {\n    fragment = `#${url.fragment}`;\n  }\n\n  const href = `${qs}${fragment}`;\n\n  return href;\n}\n\n/**\n * Function to constuct classes to help with mobile sizing\n */\nfunction constructClasses(page: number, current: number, total: number) {\n  if (total <= 5) {\n    return '';\n  } else if (current == 1 || current == total) {\n    if (current - page == 4 || current - page == -4) {\n      return 'gcds-pagination-list-breakpoint-xxs';\n    } else if (current - page == 5 || current - page == -5) {\n      return 'gcds-pagination-list-breakpoint-xs';\n    } else if (current - page > 5 || current - page < -5) {\n      return 'gcds-pagination-list-breakpoint-sm';\n    }\n  } else if (current == 2 || current == total - 1) {\n    if (current - page == 3 || current - page == -3) {\n      return 'gcds-pagination-list-breakpoint-xxs';\n    } else if (current - page == 4 || current - page == -4) {\n      return 'gcds-pagination-list-breakpoint-xs';\n    } else if (current - page > 4 || current - page < -4) {\n      return 'gcds-pagination-list-breakpoint-sm';\n    }\n  } else if (current > 2 && current < total - 1 && total < 10 && current == 5) {\n    if (current - page == 2 || current - page == -2) {\n      return 'gcds-pagination-list-breakpoint-xs';\n    } else if (current - page >= 3 || current - page <= -3) {\n      return 'gcds-pagination-list-breakpoint-sm';\n    }\n  } else if (current > 2 && current < total - 1) {\n    if (current - page == 2 || current - page == -2) {\n      return 'gcds-pagination-list-breakpoint-xxs';\n    } else if (current - page == 3 || current - page == -3) {\n      return 'gcds-pagination-list-breakpoint-xs';\n    } else if (current - page > 3 || current - page < -3) {\n      return 'gcds-pagination-list-breakpoint-sm';\n    }\n  }\n}\n\nexport { constructClasses, constructHref };\n","@layer reset, default, list, simple, wide, compact, hover, active, focus;\n\n@layer reset {\n  :host {\n    display: block;\n\n    .gcds-pagination ul {\n      padding: 0;\n      list-style: none;\n    }\n  }\n}\n\n@layer default {\n  :host .gcds-pagination {\n    container: component pagination / inline-size;\n\n    li {\n      margin: var(--gcds-pagination-listitem-margin);\n\n      a {\n        color: var(--gcds-pagination-default-text);\n        font: var(--gcds-pagination-font-desktop);\n        border-radius: var(--gcds-pagination-border-radius);\n\n        @media only screen and (width < 48em) {\n          font: var(--gcds-pagination-font-mobile);\n        }\n      }\n    }\n  }\n}\n\n@layer list {\n  :host .gcds-pagination {\n    :is(.gcds-pagination-list, .gcds-pagination-list-mobile-prevnext) {\n      display: flex;\n      flex-direction: row;\n      margin: 0 auto;\n      width: fit-content;\n\n      li {\n        a,\n        & > span.gcds-pagination-list-ellipses {\n          height: 3rem;\n          min-width: 3rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n\n          &.gcds-pagination-end-button,\n          &.gcds-pagination-end-button-mobile {\n            padding: var(--gcds-pagination-list-end-button-padding);\n            width: auto;\n            min-width: auto;\n            height: auto;\n            text-decoration: none;\n\n            span {\n              text-decoration: underline;\n            }\n          }\n        }\n\n        &.gcds-pagination-mobile-prevnext {\n          display: none;\n        }\n\n        &.gcds-pagination-list-mobile-ellipses {\n          display: none;\n        }\n      }\n    }\n\n    .gcds-pagination-list-mobile-prevnext {\n      display: flex;\n      margin: var(--gcds-pagination-mobile-list-prevnext-margin);\n    }\n  }\n}\n\n@layer simple {\n  :host .gcds-pagination-simple {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    li {\n      display: inline-block;\n      margin: var(--gcds-pagination-simple-listitem-margin);\n      justify-content: space-between;\n      width: fit-content;\n\n      a {\n        display: grid;\n        padding: var(--gcds-pagination-simple-padding);\n\n        & > gcds-icon {\n          grid-area: icon;\n        }\n\n        & > .gcds-pagination-simple-text {\n          grid-area: text;\n          margin: var(--gcds-pagination-simple-listitem-text-margin);\n        }\n\n        & > span {\n          grid-area: label;\n          font-weight: var(--gcds-pagination-simple-label-font-weight);\n        }\n      }\n    }\n\n    .gcds-pagination-simple-previous a,\n    .gcds-pagination-simple-next a {\n      text-decoration: none;\n\n      .gcds-pagination-simple-text,\n      span {\n        text-decoration: underline;\n      }\n    }\n\n    .gcds-pagination-simple-previous a {\n      grid-template-areas:\n        'icon text'\n        'icon label';\n      grid-template-columns: 0.25fr 1fr;\n    }\n\n    .gcds-pagination-simple-next a {\n      grid-template-areas:\n        'text icon'\n        'label icon';\n      grid-template-columns: 1fr 0.25fr;\n    }\n  }\n}\n\n@layer wide {\n  /* List display: list */\n  @container pagination (width > 44em) {\n    :host .gcds-pagination-list-mobile-prevnext {\n      display: none;\n    }\n  }\n\n  /* List display: simple */\n  @container pagination (width > 20em) {\n    :host .gcds-pagination-simple {\n      flex-direction: row;\n\n      .gcds-pagination-simple-next {\n        margin-left: auto;\n      }\n    }\n  }\n}\n\n@layer compact {\n  @container pagination (width <= 44em) {\n    :host .gcds-pagination {\n      :is(.gcds-pagination-list, .gcds-pagination-list-mobile-prevnext) li {\n        a {\n          border: var(--gcds-pagination-border-width) solid currentColor;\n        }\n\n        & > span.gcds-pagination-list-ellipses {\n          min-width: auto;\n        }\n\n        &:has(> a.gcds-pagination-end-button) {\n          margin: 0;\n        }\n\n        .gcds-pagination-end-button {\n          display: none;\n        }\n\n        &.gcds-pagination-mobile-prevnext {\n          display: block;\n        }\n      }\n    }\n  }\n\n  @container pagination (width <= 30em) {\n    :host .gcds-pagination-list .gcds-pagination-list-breakpoint-sm {\n      display: none;\n    }\n  }\n\n  @container pagination (width <= 27.5em) {\n    :host .gcds-pagination-list .gcds-pagination-list-breakpoint-xs {\n      display: none;\n    }\n  }\n\n  @container pagination (width <= 25em) {\n    :host .gcds-pagination-list .gcds-pagination-list-breakpoint-xxs {\n      display: none;\n    }\n  }\n\n  @container pagination (width <= 19em) {\n    :host .gcds-pagination-list li {\n      margin: var(--gcds-pagination-mobile-list-item-margin);\n    }\n  }\n}\n\n@layer hover {\n  @media (hover: hover) {\n    :host .gcds-pagination ul li a:hover {\n      background: var(--gcds-pagination-hover-background);\n      color: var(--gcds-pagination-hover-text);\n    }\n  }\n}\n\n@layer active {\n  :host .gcds-pagination ul li a {\n    &:active:not(:focus),\n    &[aria-current*='page']:not(:focus) {\n      color: var(--gcds-pagination-active-text);\n      background: var(--gcds-pagination-active-background);\n      border-color: var(--gcds-pagination-active-background);\n      text-decoration: none;\n    }\n  }\n}\n\n@layer focus {\n  :host .gcds-pagination ul li a:focus {\n    color: var(--gcds-pagination-focus-text);\n    background-color: var(--gcds-pagination-focus-background);\n    outline: var(--gcds-pagination-focus-outline-width) solid\n      var(--gcds-pagination-focus-background);\n    outline-offset: var(--gcds-pagination-border-width);\n    box-shadow: var(--gcds-pagination-focus-box-shadow);\n    text-decoration: none;\n    border-color: var(--gcds-pagination-focus-background);\n  }\n}\n","import {\n  Component,\n  Element,\n  Prop,\n  Event,\n  EventEmitter,\n  State,\n  Watch,\n  Host,\n  h,\n} from '@stencil/core';\n\nimport { assignLanguage, observerConfig, emitEvent } from '../../utils/utils';\nimport I18N from './i18n/i18n';\nimport { constructHref, constructClasses } from './utils/render';\n\n@Component({\n  tag: 'gcds-pagination',\n  styleUrl: 'gcds-pagination.css',\n  shadow: true,\n})\nexport class GcdsPagination {\n  @Element() el: HTMLElement;\n\n  private listitems = [];\n  private mobilePrevNext = [];\n\n  /*\n   * Props\n   */\n\n  /**\n   * Navigation element label\n   */\n  @Prop() display: 'list' | 'simple' = 'list';\n\n  /**\n   * Navigation element label\n   */\n  @Prop() label!: string;\n\n  /**\n   * Simple display - href for previous link\n   */\n  @Prop() previousHref: string;\n\n  /**\n   * Simple display - label for previous link\n   */\n  @Prop({ reflect: true }) previousLabel: string;\n\n  /**\n   * Simple display - href for next link\n   */\n  @Prop() nextHref: string;\n\n  /**\n   * Simple display - lable for next link\n   */\n  @Prop({ reflect: true }) nextLabel: string;\n\n  /**\n   * List display - Total number of pages\n   */\n  @Prop() totalPages: number;\n\n  /**\n   * List display - Current page number\n   */\n  @Prop({ reflect: true }) currentPage: number;\n\n  @Watch('currentPage')\n  watchCurrentPage(newValue) {\n    this.currentStep = newValue;\n  }\n\n  /**\n   * List display - URL object to create query strings and fragment on links\n   */\n  @Prop() url: string | object;\n  urlObject: object;\n\n  /**\n   * Convert url prop to object\n   * (Object props get treated as string when using Stencil components without a framework)\n   */\n  @Watch('url')\n  urlChanged(newUrl: string | object) {\n    if (typeof newUrl == 'string') {\n      this.urlObject = JSON.parse(newUrl);\n    } else if (typeof newUrl == 'object') {\n      this.urlObject = newUrl;\n    }\n  }\n\n  @State() currentStep: number;\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n  @Watch('lang')\n  watchLang() {\n    if (this.display == 'list') {\n      this.configureListPagination();\n    }\n  }\n\n  /**\n   * Events\n   */\n\n  /**\n   * Emitted when the link has focus.\n   */\n  @Event() gcdsFocus!: EventEmitter<void>;\n\n  /**\n   * Emitted when the link loses focus.\n   */\n  @Event() gcdsBlur!: EventEmitter<void>;\n\n  /**\n   * Emitted when the link has been clicked.\n   */\n  @Event() gcdsClick!: EventEmitter<void>;\n\n  /**\n   * Function to constuct <li> and <a> tags for display=\"list\" pagination\n   */\n  private configurePaginationStep(\n    page: number,\n    end?: 'next' | 'previous' | null,\n    mobile?: boolean,\n  ) {\n    const href = this.urlObject\n      ? constructHref(this.urlObject, page, end)\n      : 'javascript:void(0)';\n    const linkAttrs = {\n      'href': href,\n      'tabindex': 0,\n      'aria-label': !end\n        ? I18N[this.lang].pageNumberOf\n            .replace('{#}', page)\n            .replace('{total}', this.totalPages)\n            .replace('{label}', this.label)\n        : end == 'next'\n          ? `${I18N[this.lang].nextPage}: ${I18N[this.lang].pageNumberOf\n              .replace('{#}', ++page)\n              .replace('{total}', this.totalPages)\n              .replace('{label}', this.label)}`\n          : `${I18N[this.lang].previousPage}: ${I18N[this.lang].pageNumberOf\n              .replace('{#}', --page)\n              .replace('{total}', this.totalPages)\n              .replace('{label}', this.label)}`,\n      'onBlur': () => this.gcdsBlur.emit(),\n      'onFocus': () => this.gcdsFocus.emit(),\n      'onClick': e => emitEvent(e, this.gcdsClick, { page: page, href }),\n    };\n\n    if (page == this.currentPage && !end) {\n      linkAttrs['aria-current'] = 'page';\n    }\n\n    if (end) {\n      return (\n        <li>\n          {end === 'next' ? (\n            <a\n              {...linkAttrs}\n              class={\n                !mobile\n                  ? 'gcds-pagination-end-button'\n                  : 'gcds-pagination-end-button-mobile'\n              }\n            >\n              <span>{I18N[this.lang].next}</span>\n              <gcds-icon margin-left=\"150\" name=\"chevron-right\"></gcds-icon>\n            </a>\n          ) : (\n            <a\n              {...linkAttrs}\n              class={\n                !mobile\n                  ? 'gcds-pagination-end-button'\n                  : 'gcds-pagination-end-button-mobile'\n              }\n            >\n              <gcds-icon margin-right=\"150\" name=\"chevron-left\"></gcds-icon>\n              <span>\n                {mobile\n                  ? I18N[this.lang].previousMobile\n                  : I18N[this.lang].previous}\n              </span>\n            </a>\n          )}\n        </li>\n      );\n    } else {\n      return (\n        <li\n          class={\n            page != 1 && page != this.totalPages\n              ? constructClasses(page, this.currentPage, this.totalPages)\n              : ''\n          }\n        >\n          <a {...linkAttrs}>{page}</a>\n        </li>\n      );\n    }\n  }\n\n  /**\n   * Function to render the right steps for display=\"list\" pagination\n   */\n  private configureListPagination() {\n    this.listitems = [];\n    this.mobilePrevNext = [];\n\n    if (this.currentPage != 1) {\n      this.listitems.push(\n        this.configurePaginationStep(this.currentPage, 'previous'),\n      );\n      this.mobilePrevNext.push(\n        this.configurePaginationStep(this.currentPage, 'previous', true),\n      );\n    }\n\n    // Flags to see if ellipses already rendered\n    let previousEllipses = false;\n    let nextEllipses = false;\n\n    for (let i = 1; i <= this.totalPages; i++) {\n      // Left side mobile ellipses\n      if (\n        i == 2 &&\n        this.currentPage < 6 &&\n        this.currentPage > 3 &&\n        this.totalPages > 9\n      ) {\n        this.listitems.push(\n          <li class={`gcds-pagination-list-mobile-ellipses`} aria-hidden=\"true\">\n            <span class=\"gcds-pagination-list-ellipses\">...</span>\n          </li>,\n        );\n      } else if (\n        i == 2 &&\n        this.totalPages < 10 &&\n        this.totalPages > 5 &&\n        this.currentPage > 3\n      ) {\n        this.listitems.push(\n          <li class={`gcds-pagination-list-mobile-ellipses`} aria-hidden=\"true\">\n            <span class=\"gcds-pagination-list-ellipses\">...</span>\n          </li>,\n        );\n      }\n\n      if (\n        i == this.currentPage ||\n        i == 1 ||\n        i == this.totalPages ||\n        (i >= this.currentPage - 2 && i <= this.currentPage + 2) ||\n        this.totalPages < 10\n      ) {\n        this.listitems.push(this.configurePaginationStep(i));\n      } else if (\n        (this.currentPage <= 5 && i <= 7) ||\n        (this.currentPage >= this.totalPages - 4 && i >= this.totalPages - 6)\n      ) {\n        this.listitems.push(this.configurePaginationStep(i));\n      } else if (\n        (this.currentPage == 5 && i == 2) ||\n        (this.currentPage == this.totalPages - 4 && i == this.totalPages - 1)\n      ) {\n        this.listitems.push(this.configurePaginationStep(i));\n      } else if (!previousEllipses && i < this.currentPage - 2) {\n        this.listitems.push(\n          <li aria-hidden=\"true\">\n            <span class=\"gcds-pagination-list-ellipses\">...</span>\n          </li>,\n        );\n\n        previousEllipses = true;\n      } else if (\n        !nextEllipses &&\n        i > this.currentPage + 2 &&\n        i < this.totalPages\n      ) {\n        this.listitems.push(\n          <li aria-hidden=\"true\">\n            <span class=\"gcds-pagination-list-ellipses\">...</span>\n          </li>,\n        );\n\n        nextEllipses = true;\n      }\n\n      // Right side mobile ellipses\n      if (\n        i == this.totalPages - 1 &&\n        this.currentPage > this.totalPages - 5 &&\n        this.currentPage < this.totalPages - 2 &&\n        this.totalPages > 9\n      ) {\n        this.listitems.push(\n          <li class={`gcds-pagination-list-mobile-ellipses`} aria-hidden=\"true\">\n            <span class=\"gcds-pagination-list-ellipses\">...</span>\n          </li>,\n        );\n      } else if (\n        i == this.totalPages - 1 &&\n        this.totalPages < 10 &&\n        this.totalPages > 5 &&\n        this.currentPage < this.totalPages - 2\n      ) {\n        this.listitems.push(\n          <li class={`gcds-pagination-list-mobile-ellipses`} aria-hidden=\"true\">\n            <span class=\"gcds-pagination-list-ellipses\">...</span>\n          </li>,\n        );\n      }\n    }\n\n    if (this.currentPage != this.totalPages) {\n      this.listitems.push(\n        this.configurePaginationStep(this.currentPage, 'next'),\n      );\n      this.mobilePrevNext.push(\n        this.configurePaginationStep(this.currentPage, 'next', true),\n      );\n    }\n  }\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    if (this.url && typeof this.url == 'string') {\n      this.urlObject = JSON.parse(this.url);\n    } else if (this.url && typeof this.url == 'object') {\n      this.urlObject = this.url;\n    }\n\n    if (this.display == 'list') {\n      this.configureListPagination();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.display == 'list') {\n      this.configureListPagination();\n    }\n  }\n\n  render() {\n    const {\n      display,\n      label,\n      previousHref,\n      previousLabel,\n      nextHref,\n      nextLabel,\n      lang,\n    } = this;\n\n    return (\n      <Host role=\"navigation\" aria-label={label}>\n        <div class=\"gcds-pagination\">\n          {display === 'list' ? (\n            <div>\n              <ul class=\"gcds-pagination-list\">{this.listitems}</ul>\n              <ul class=\"gcds-pagination-list-mobile-prevnext\">\n                {this.mobilePrevNext}\n              </ul>\n            </div>\n          ) : (\n            <ul class=\"gcds-pagination-simple\">\n              {previousHref && (\n                <li class=\"gcds-pagination-simple-previous\">\n                  <a\n                    href={previousHref}\n                    tabindex={0}\n                    aria-label={`${I18N[lang].previousPage}${\n                      previousLabel ? `: ${previousLabel}` : ''\n                    }`}\n                    onBlur={() => this.gcdsBlur.emit()}\n                    onFocus={() => this.gcdsFocus.emit()}\n                    onClick={e => emitEvent(e, this.gcdsClick, previousHref)}\n                  >\n                    <gcds-icon margin-right=\"150\" name=\"chevron-left\"></gcds-icon>\n                    <div class=\"gcds-pagination-simple-text\">\n                      {I18N[lang].previous}\n                    </div>\n                    <span>{previousLabel}</span>\n                  </a>\n                </li>\n              )}\n              {nextHref && (\n                <li class=\"gcds-pagination-simple-next\">\n                  <a\n                    href={nextHref}\n                    tabindex={0}\n                    aria-label={`${I18N[lang].nextPage}${\n                      nextLabel ? `: ${nextLabel}` : ''\n                    }`}\n                    onBlur={() => this.gcdsBlur.emit()}\n                    onFocus={() => this.gcdsFocus.emit()}\n                    onClick={e => emitEvent(e, this.gcdsClick, nextHref)}\n                  >\n                    <div class=\"gcds-pagination-simple-text\">\n                      {I18N[lang].next}\n                    </div>\n                    <span>{nextLabel}</span>\n                    <gcds-icon margin-left=\"150\" name=\"chevron-right\"></gcds-icon>\n                  </a>\n                </li>\n              )}\n            </ul>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}