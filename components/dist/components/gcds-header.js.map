{"file":"gcds-header.js","mappings":"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","names":["GcdsHeader","i18n"],"sources":["src/components/gcds-header/i18n/i18n.js","src/components/gcds-header/gcds-header.css?tag=gcds-header&encapsulation=shadow","src/components/gcds-header/gcds-header.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    skip: 'Skip to main content',\n    skipLabel: 'Skip to',\n  },\n  fr: {\n    skip: 'Passer au contenu principal',\n    skipLabel: 'Passer au',\n  },\n};\n\nexport default I18N;\n","@layer reset, default, brand, wide;\n\n@layer reset {\n  :host {\n    display: block;\n\n    slot {\n      display: initial;\n    }\n  }\n}\n\n@layer default {\n  :host {\n    margin: var(--gcds-header-margin) !important;\n\n    .gcds-header__container {\n      justify-content: space-between;\n      width: 90%;\n      max-width: var(--gcds-header-container-max-width);\n      margin: 0 auto;\n    }\n\n    .gcds-header__skip-to-nav {\n      text-align: center;\n      position: absolute;\n      width: 100%;\n      margin-inline: auto;\n      top: var(--gcds-header-skiptonav-top);\n\n      gcds-link {\n        z-index: 3;\n        position: absolute;\n        top: var(--gcds-header-skiptonav-top);\n        left: 0;\n        width: inherit;\n\n        &:not(:focus) {\n          width: 0;\n          height: 0;\n          overflow: hidden;\n          clip: rect(0, 0, 0, 0);\n        }\n      }\n    }\n  }\n}\n\n@layer brand {\n  :host .gcds-header__brand {\n    container: component brand / inline-size;\n    border-block-end: var(--gcds-header-brand-border-width) solid\n      var(--gcds-header-brand-border-color);\n    padding: var(--gcds-header-brand-padding);\n    margin: var(--gcds-header-brand-margin);\n\n    .brand__container {\n      display: grid;\n      grid-gap: var(--gcds-header-brand-grid-gap);\n      grid-template-columns: 1fr 0.1fr;\n      grid-template-areas:\n        'signature toggle'\n        'search search';\n      width: 90%;\n      max-width: var(--gcds-header-container-max-width);\n      margin: 0 auto;\n\n      &.container--simple {\n        grid-template-areas: 'signature toggle';\n      }\n\n      :is(.brand__toggle, slot[name='toggle']) {\n        grid-area: toggle;\n        text-align: right;\n      }\n\n      :is(.brand__signature, slot[name='signature']) {\n        grid-area: signature;\n\n        gcds-signature {\n          margin: var(--gcds-header-brand-signature-margin);\n        }\n      }\n\n      .brand__search {\n        grid-area: search;\n        max-width: 100%;\n        display: block;\n      }\n    }\n  }\n}\n\n@layer wide {\n  @container brand (width >= 51em) {\n    :host .gcds-header__brand .brand__container {\n      grid-template-areas:\n        'toggle toggle'\n        'signature search';\n      grid-template-columns: 1fr 1fr;\n\n      .brand__search,\n      slot[name='search'] {\n        width: fit-content;\n        margin-inline-start: auto;\n      }\n    }\n  }\n}\n","import { Component, Element, Host, Prop, h, State } from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport i18n from './i18n/i18n';\n\n@Component({\n  tag: 'gcds-header',\n  styleUrl: 'gcds-header.css',\n  shadow: true,\n})\nexport class GcdsHeader {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * GcdsLangToggle - The href attribute specifies the URL of the opposite language page\n   */\n  @Prop({ reflect: true, mutable: false }) langHref!: string;\n\n  /**\n   * GcdsSignature - The variant of the Government of Canada signature\n   */\n  @Prop({ reflect: false, mutable: false }) signatureVariant:\n    | 'colour'\n    | 'white';\n  /**\n   * GcdsSignature - GCDS signature links to Canada.ca\n   */\n  @Prop({ reflect: false, mutable: false }) signatureHasLink: boolean = true;\n\n  /**\n   * Top navigation - Skip to content href\n   */\n  @Prop({ reflect: false, mutable: false }) skipToHref!: string;\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n  }\n\n  private get renderSkipToNav() {\n    if (this.el.querySelector('[slot=\"skip-to-nav\"]')) {\n      return <slot name=\"skip-to-nav\"></slot>;\n    } else if (this.skipToHref) {\n      return (\n        <nav\n          class=\"gcds-header__skip-to-nav\"\n          aria-label={i18n[this.lang].skipLabel}\n        >\n          <gcds-link href={this.skipToHref}>{i18n[this.lang].skip}</gcds-link>\n        </nav>\n      );\n    } else {\n      return;\n    }\n  }\n\n  private get renderToggle() {\n    if (this.el.querySelector('[slot=\"toggle\"]')) {\n      return <slot name=\"toggle\"></slot>;\n    } else if (this.langHref) {\n      return (\n        <section class=\"brand__toggle\">\n          <gcds-lang-toggle\n            lang={this.lang}\n            href={this.langHref}\n          ></gcds-lang-toggle>\n        </section>\n      );\n    } else {\n      return;\n    }\n  }\n\n  private get renderSignature() {\n    const signVariant = this.signatureVariant\n      ? this.signatureVariant\n      : 'colour';\n\n    if (this.el.querySelector('[slot=\"signature\"]')) {\n      return <slot name=\"signature\"></slot>;\n    } else {\n      return (\n        <div class=\"brand__signature\">\n          <gcds-signature\n            type=\"signature\"\n            variant={signVariant}\n            has-link={this.signatureHasLink}\n            lang={this.lang}\n          ></gcds-signature>\n        </div>\n      );\n    }\n  }\n\n  private get renderSearch() {\n    if (this.el.querySelector('[slot=\"search\"]')) {\n      return (\n        <div class=\"brand__search\">\n          <slot name=\"search\"></slot>\n        </div>\n      );\n    } else {\n      return;\n    }\n  }\n\n  private get hasSearch() {\n    return !!this.el.querySelector('[slot=\"search\"]');\n  }\n\n  private get hasBanner() {\n    return !!this.el.querySelector('[slot=\"banner\"]');\n  }\n\n  private get hasBreadcrumb() {\n    return !!this.el.querySelector('[slot=\"breadcrumb\"]');\n  }\n\n  render() {\n    const {\n      renderSkipToNav,\n      renderToggle,\n      renderSignature,\n      renderSearch,\n      hasSearch,\n      hasBanner,\n      hasBreadcrumb,\n    } = this;\n    return (\n      <Host role=\"banner\">\n        {renderSkipToNav}\n        {hasBanner ? <slot name=\"banner\"></slot> : null}\n        <div class=\"gcds-header__brand\">\n          <div\n            class={`brand__container ${!hasSearch ? 'container--simple' : ''}`}\n          >\n            {renderToggle}\n            {renderSignature}\n            {renderSearch}\n          </div>\n        </div>\n        <slot name=\"menu\"></slot>\n        {hasBreadcrumb ? (\n          <div class=\"gcds-header__container\">\n            <slot name=\"breadcrumb\"></slot>\n          </div>\n        ) : null}\n      </Host>\n    );\n  }\n}\n"],"version":3}