{"version":3,"names":["I18N","en","skip","skipLabel","fr","gcdsHeaderCss","GcdsHeader","__stencil_proxyCustomElement","HTMLElement","constructor","this","signatureHasLink","updateLang","observer","MutationObserver","mutations","oldValue","el","lang","observe","observerConfig","componentWillLoad","assignLanguage","renderSkipToNav","querySelector","h","name","skipToHref","class","i18n","href","renderToggle","langHref","renderSignature","signVariant","signatureVariant","type","variant","renderSearch","hasSearch","hasBanner","hasBreadcrumb","render","Host","key","role"],"sources":["src/components/gcds-header/i18n/i18n.js","src/components/gcds-header/gcds-header.css?tag=gcds-header&encapsulation=shadow","src/components/gcds-header/gcds-header.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    skip: 'Skip to main content',\n    skipLabel: 'Skip to',\n  },\n  fr: {\n    skip: 'Passer au contenu principal',\n    skipLabel: 'Passer au',\n  },\n};\n\nexport default I18N;\n","@layer reset, default, brand, menu, wide;\n\n@layer reset {\n  :host {\n    display: block;\n\n    slot {\n      display: initial;\n    }\n  }\n}\n\n@layer default {\n  :host {\n    margin: var(--gcds-header-margin) !important;\n\n    .gcds-header__container {\n      justify-content: space-between;\n      width: 90%;\n      max-width: var(--gcds-header-container-max-width);\n      margin: 0 auto;\n    }\n\n    .gcds-header__skip-to-nav {\n      text-align: center;\n      position: absolute;\n      width: 100%;\n      margin-inline: auto;\n      top: var(--gcds-header-skiptonav-top);\n\n      gcds-link {\n        z-index: 3;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: inherit;\n\n        &:not(:focus) {\n          width: 0;\n          height: 0;\n          overflow: hidden;\n          clip: rect(0, 0, 0, 0);\n        }\n      }\n    }\n  }\n}\n\n@layer brand {\n  :host .gcds-header__brand {\n    container: component brand / inline-size;\n    border-block-end: var(--gcds-header-brand-border-width) solid\n      var(--gcds-header-brand-border-color);\n    padding: var(--gcds-header-brand-padding);\n\n    .brand__container {\n      display: grid;\n      grid-gap: var(--gcds-header-brand-grid-gap);\n      grid-template-columns: 1fr 0.1fr;\n      grid-template-areas:\n        'signature toggle'\n        'search search';\n      width: 90%;\n      max-width: var(--gcds-header-container-max-width);\n      margin: 0 auto;\n\n      &.container--simple {\n        grid-template-areas: 'signature toggle';\n      }\n\n      :is(.brand__toggle, slot[name='toggle']) {\n        grid-area: toggle;\n        text-align: right;\n      }\n\n      :is(.brand__signature, slot[name='signature']) {\n        grid-area: signature;\n        align-content: center;\n      }\n\n      .brand__search {\n        grid-area: search;\n        max-width: 100%;\n        display: block;\n      }\n    }\n  }\n}\n\n@layer menu {\n  :host {\n    --gcds-nav-group-mobile-trigger-margin: var(--gcds-header-menu-top-nav-mobile-trigger-margin);\n  }\n}\n\n@layer wide {\n  @container brand (width >= 51em) {\n    :host .gcds-header__brand .brand__container {\n      grid-template-areas:\n        'toggle toggle'\n        'signature search';\n      grid-template-columns: 1fr 1fr;\n\n      .brand__search,\n      slot[name='search'] {\n        width: fit-content;\n        margin-inline-start: auto;\n      }\n    }\n  }\n}\n","import {\n  Component,\n  Element,\n  Host,\n  Prop,\n  h,\n  State,\n  Event,\n  EventEmitter,\n} from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport i18n from './i18n/i18n';\n\n/**\n * The header is the responsive Government of Canada branded header landmark.\n *\n * @slot banner - Slot to add a banner across the top of the header.\n * @slot breadcrumb - Slot to add breadcrumbs at the bottom of the header.\n * @slot menu - Slot to add a menu below the divider line.\n * @slot search - Slot to add a search field to the right of the header.\n * @slot skip-to-nav - Slot to add a hidden skip to content navigation at the top of the header.\n * @slot signature - Slot to replace Government of Canada signature.\n * @slot toggle - Slot to add a custom language toggle in the top-right of the header.\n */\n@Component({\n  tag: 'gcds-header',\n  styleUrl: 'gcds-header.css',\n  shadow: true,\n})\nexport class GcdsHeader {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * GcdsLangToggle - The href attribute specifies the URL of the opposite language page\n   */\n  @Prop({ reflect: true, mutable: false }) langHref!: string;\n\n  /**\n   * GcdsSignature - The variant of the Government of Canada signature\n   */\n  @Prop({ reflect: false, mutable: false }) signatureVariant:\n    | 'colour'\n    | 'white';\n  /**\n   * GcdsSignature - GCDS signature links to Canada.ca\n   */\n  @Prop({ reflect: false, mutable: false }) signatureHasLink: boolean = true;\n\n  /**\n   * Top navigation - Skip to content href\n   */\n  @Prop({ reflect: false, mutable: false }) skipToHref!: string;\n\n  /**\n   * Events\n   */\n\n  /**\n   * Emitted when the link has focus.\n   */\n  @Event() gcdsFocus!: EventEmitter<void>;\n\n  /**\n   * Emitted when the link loses focus.\n   */\n  @Event() gcdsBlur!: EventEmitter<void>;\n\n  /**\n   * Emitted when the link has been clicked. Contains the href in the event detail.\n   */\n  @Event() gcdsClick!: EventEmitter<string>;\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n  }\n\n  private get renderSkipToNav() {\n    if (this.el.querySelector('[slot=\"skip-to-nav\"]')) {\n      return <slot name=\"skip-to-nav\"></slot>;\n    } else if (this.skipToHref) {\n      return (\n        <nav\n          class=\"gcds-header__skip-to-nav\"\n          aria-label={i18n[this.lang].skipLabel}\n        >\n          <gcds-link href={this.skipToHref}>{i18n[this.lang].skip}</gcds-link>\n        </nav>\n      );\n    } else {\n      return;\n    }\n  }\n\n  private get renderToggle() {\n    if (this.el.querySelector('[slot=\"toggle\"]')) {\n      return <slot name=\"toggle\"></slot>;\n    } else if (this.langHref) {\n      return (\n        <section class=\"brand__toggle\">\n          <gcds-lang-toggle\n            lang={this.lang}\n            href={this.langHref}\n          ></gcds-lang-toggle>\n        </section>\n      );\n    } else {\n      return;\n    }\n  }\n\n  private get renderSignature() {\n    const signVariant = this.signatureVariant\n      ? this.signatureVariant\n      : 'colour';\n\n    if (this.el.querySelector('[slot=\"signature\"]')) {\n      return <slot name=\"signature\"></slot>;\n    } else {\n      return (\n        <div class=\"brand__signature\">\n          <gcds-signature\n            type=\"signature\"\n            variant={signVariant}\n            has-link={this.signatureHasLink}\n            lang={this.lang}\n          ></gcds-signature>\n        </div>\n      );\n    }\n  }\n\n  private get renderSearch() {\n    if (this.el.querySelector('[slot=\"search\"]')) {\n      return (\n        <div class=\"brand__search\">\n          <slot name=\"search\"></slot>\n        </div>\n      );\n    } else {\n      return;\n    }\n  }\n\n  private get hasSearch() {\n    return !!this.el.querySelector('[slot=\"search\"]');\n  }\n\n  private get hasBanner() {\n    return !!this.el.querySelector('[slot=\"banner\"]');\n  }\n\n  private get hasBreadcrumb() {\n    return !!this.el.querySelector('[slot=\"breadcrumb\"]');\n  }\n\n  render() {\n    const {\n      renderSkipToNav,\n      renderToggle,\n      renderSignature,\n      renderSearch,\n      hasSearch,\n      hasBanner,\n      hasBreadcrumb,\n    } = this;\n    return (\n      <Host role=\"banner\">\n        {renderSkipToNav}\n        {hasBanner ? <slot name=\"banner\"></slot> : null}\n        <div class=\"gcds-header__brand\">\n          <div\n            class={`brand__container ${!hasSearch ? 'container--simple' : ''}`}\n          >\n            {renderToggle}\n            {renderSignature}\n            {renderSearch}\n          </div>\n        </div>\n        <slot name=\"menu\"></slot>\n        {hasBreadcrumb ? (\n          <div class=\"gcds-header__container\">\n            <slot name=\"breadcrumb\"></slot>\n          </div>\n        ) : null}\n      </Host>\n    );\n  }\n}\n"],"mappings":"0RAAA,MAAMA,EAAO,CACXC,GAAI,CACFC,KAAM,uBACNC,UAAW,WAEbC,GAAI,CACFF,KAAM,8BACNC,UAAW,cCPf,MAAME,EAAgB,q+D,MC6BTC,EAAUC,EAAA,MAAAD,UAAAE,EALvB,WAAAC,G,2JA0B4CC,KAAgBC,iBAAY,IAiKvE,CA/HC,UAAAC,GACE,MAAMC,EAAW,IAAIC,kBAAiBC,IACpC,GAAIA,EAAU,GAAGC,UAAYN,KAAKO,GAAGC,KAAM,CACzCR,KAAKQ,KAAOR,KAAKO,GAAGC,I,KAGxBL,EAASM,QAAQT,KAAKO,GAAIG,E,CAG5B,uBAAMC,GAEJX,KAAKQ,KAAOI,EAAeZ,KAAKO,IAEhCP,KAAKE,Y,CAGP,mBAAYW,GACV,GAAIb,KAAKO,GAAGO,cAAc,wBAAyB,CACjD,OAAOC,EAAM,QAAAC,KAAK,e,MACb,GAAIhB,KAAKiB,WAAY,CAC1B,OACEF,EAAA,OACEG,MAAM,2BAA0B,aACpBC,EAAKnB,KAAKQ,MAAMf,WAE5BsB,EAAA,aAAWK,KAAMpB,KAAKiB,YAAaE,EAAKnB,KAAKQ,MAAMhB,M,KAGlD,CACL,M,EAIJ,gBAAY6B,GACV,GAAIrB,KAAKO,GAAGO,cAAc,mBAAoB,CAC5C,OAAOC,EAAM,QAAAC,KAAK,U,MACb,GAAIhB,KAAKsB,SAAU,CACxB,OACEP,EAAA,WAASG,MAAM,iBACbH,EAAA,oBACEP,KAAMR,KAAKQ,KACXY,KAAMpB,KAAKsB,W,KAIZ,CACL,M,EAIJ,mBAAYC,GACV,MAAMC,EAAcxB,KAAKyB,iBACrBzB,KAAKyB,iBACL,SAEJ,GAAIzB,KAAKO,GAAGO,cAAc,sBAAuB,CAC/C,OAAOC,EAAM,QAAAC,KAAK,a,KACb,CACL,OACED,EAAA,OAAKG,MAAM,oBACTH,EACE,kBAAAW,KAAK,YACLC,QAASH,EAAW,WACVxB,KAAKC,iBACfO,KAAMR,KAAKQ,O,EAOrB,gBAAYoB,GACV,GAAI5B,KAAKO,GAAGO,cAAc,mBAAoB,CAC5C,OACEC,EAAA,OAAKG,MAAM,iBACTH,EAAA,QAAMC,KAAK,W,KAGV,CACL,M,EAIJ,aAAYa,GACV,QAAS7B,KAAKO,GAAGO,cAAc,kB,CAGjC,aAAYgB,GACV,QAAS9B,KAAKO,GAAGO,cAAc,kB,CAGjC,iBAAYiB,GACV,QAAS/B,KAAKO,GAAGO,cAAc,sB,CAGjC,MAAAkB,GACE,MAAMnB,gBACJA,EAAeQ,aACfA,EAAYE,gBACZA,EAAeK,aACfA,EAAYC,UACZA,EAASC,UACTA,EAASC,cACTA,GACE/B,KACJ,OACEe,EAACkB,EAAK,CAAAC,IAAA,2CAAAC,KAAK,UACRtB,EACAiB,EAAYf,EAAM,QAAAC,KAAK,WAAmB,KAC3CD,EAAK,OAAAmB,IAAA,2CAAAhB,MAAM,sBACTH,EAAA,OAAAmB,IAAA,2CACEhB,MAAO,qBAAqBW,EAAY,oBAAsB,MAE7DR,EACAE,EACAK,IAGLb,EAAM,QAAAmB,IAAA,2CAAAlB,KAAK,SACVe,EACChB,EAAK,OAAAG,MAAM,0BACTH,EAAA,QAAMC,KAAK,gBAEX,K","ignoreList":[]}