import{p as s,H as d,c as t,h as a,d as e}from"./p-BQgY5XdM.js";import{o as c,a as r,l as i}from"./p-UMQcBsvp.js";import{d as o}from"./p-BwC_j5YS.js";import{d as g}from"./p-CzkU2Ycq.js";import{d as n}from"./p-DsBMhwRl.js";import{d as l}from"./p-DeFvi7Po.js";const h={en:{tagged:"Tagged:",badgeError:"gcds-card: The badge attribute has a character limit of 20 characters."},fr:{tagged:"Baliser :",badgeError:"gcds-card: L'attribut badge a une limite de caractères de 20 caractères."}};const f='@layer reset, default, link, hover, focus;@layer reset{:host{display:block}:host *{box-sizing:border-box;margin:0;padding:0}:host slot{display:initial}}@layer default{:host .gcds-card{background-color:var(--gcds-card-background-color);box-shadow:var(--gcds-card-box-shadow);color:var(--gcds-card-color);display:block;height:100%;max-width:var(--gcds-card-max-width);overflow:hidden;padding:var(--gcds-card-padding);position:relative}:host .gcds-card .gcds-badge{background-color:var(--gcds-card-badge-background-color);left:0;padding:var(--gcds-card-badge-padding);position:absolute;top:0;text-wrap:nowrap}@media only screen and (width < 48em){:host .gcds-card .gcds-badge{padding:var(--gcds-card-badge-mobile-padding)}}:host .gcds-card .gcds-card__image{margin:var(--gcds-card-image-margin);width:100%}:host .gcds-card .gcds-card__title{font:var(--gcds-card-title-font-desktop);width:fit-content}@media only screen and (width < 48em){:host .gcds-card .gcds-card__title{font:var(--gcds-card-title-font-mobile)}}:host .gcds-card .gcds-card__title:has(+.gcds-card__description){margin:var(--gcds-card-title-margin)}:host .gcds-card .gcds-card__description{--gcds-text-size-body-desktop:var(--gcds-card-description-font-desktop)}@media only screen and (width < 48em){:host .gcds-card .gcds-card__description{font:var(--gcds-card-description-font-mobile)}}}@layer link{:host .gcds-card gcds-link::part(link):after{bottom:0;content:"";left:0;pointer-events:auto;position:absolute;right:0;top:0}}@layer hover{@media (hover:hover){:host .gcds-card:hover{background-color:var(--gcds-card-hover-background-color);box-shadow:var(--gcds-card-hover-box-shadow);cursor:pointer}}}@layer focus{:host .gcds-card:focus-within{box-shadow:var(--gcds-card-focus-box-shadow);outline:var(--gcds-card-focus-outline);outline-offset:var(--gcds-card-focus-outline-offset)}:host gcds-link::part(link):focus{background-color:var(--gcds-card-focus-link-background-color);border:var(--gcds-card-focus-link-border);box-shadow:var(--gcds-card-focus-link-box-shadow);color:var(--gcds-card-focus-link-color);outline:var(--gcds-card-focus-link-outline);text-decoration:underline currentColor var(--gcds-card-focus-link-text-decoration-thickness)}}';const b=s(class s extends d{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsFocus=t(this,"gcdsFocus");this.gcdsBlur=t(this,"gcdsBlur");this.gcdsClick=t(this,"gcdsClick");this.cardTitleTag="a";this.errors=[]}validateCardTitle(){if(!this.cardTitle||this.cardTitle.trim()==""){this.errors.push("cardTitle")}else if(this.errors.includes("cardTitle")){this.errors.splice(this.errors.indexOf("cardTitle"),1)}}validateHref(){if(!this.href||this.href.trim()==""){this.errors.push("href")}else if(this.errors.includes("href")){this.errors.splice(this.errors.indexOf("href"),1)}}validateBadge(){if(this.badge&&this.badge.length>20){console.error(`${h["en"].badgeError} | ${h["fr"].badgeError}`);this.errors.push("badge")}else if(this.errors.includes("badge")){this.errors.splice(this.errors.indexOf("badge"),1)}}updateLang(){const s=new MutationObserver((s=>{if(s[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));s.observe(this.el,c)}validateRequiredProps(){this.validateCardTitle();this.validateHref();if(this.errors.includes("href")||this.errors.includes("cardTitle")){return false}return true}async componentWillLoad(){this.lang=r(this.el);this.updateLang();this.validateBadge();const s=this.validateRequiredProps();if(!s){i("gcds-card",this.errors,["badge"])}}get renderDescription(){if(this.el.innerHTML.trim()!=""){return a("div",{class:"gcds-card__description"},a("slot",null))}else if(this.description){return a("div",{class:"gcds-card__description"},a("gcds-text",{"margin-bottom":"0"},this.description))}else{return null}}render(){const{cardTitle:s,cardTitleTag:d,href:t,badge:c,imgSrc:r,imgAlt:i,renderDescription:o,lang:g,errors:n}=this;const l=d;const f={};if(c){f["aria-describedby"]="gcds-badge"}if(this.validateRequiredProps()){return a(e,{key:"e2311efdcaaadb272a36f44c3e3eb051b4767b5d"},a("div",{key:"234bde32e565a54786b2f872762ed95c19c821cc",class:"gcds-card"},c&&!n.includes("badge")&&a("gcds-text",{key:"844bfe328181351d24e68b83f57b7d4f9a9a3b75",id:"gcds-badge",class:"gcds-badge","text-role":"light","margin-bottom":"0",size:"small"},a("strong",{key:"565872d89c99d6c4541b2ec494b8abdbfc79d035"},a("gcds-sr-only",{key:"30196619952eb4d38d677db62184d9491e458c19",tag:"span"},h[g].tagged),c)),r&&a("img",{key:"b233e6e13e836831ab9c207483529a7424b5c887",src:r,alt:i?i:"",class:"gcds-card__image"}),l!="a"?a(l,Object.assign({class:"gcds-card__title"},f),a("gcds-link",{href:t},s)):a("gcds-link",Object.assign({href:t,class:"gcds-card__title"},f),s),o))}}get el(){return this}static get watchers(){return{cardTitle:["validateCardTitle"],href:["validateHref"],badge:["validateBadge"]}}static get style(){return f}},[1,"gcds-card",{cardTitle:[513,"card-title"],href:[513],cardTitleTag:[1,"card-title-tag"],description:[513],badge:[1537],imgSrc:[513,"img-src"],imgAlt:[513,"img-alt"],lang:[32],errors:[32]},undefined,{cardTitle:["validateCardTitle"],href:["validateHref"],badge:["validateBadge"]}]);function u(){if(typeof customElements==="undefined"){return}const s=["gcds-card","gcds-icon","gcds-link","gcds-sr-only","gcds-text"];s.forEach((s=>{switch(s){case"gcds-card":if(!customElements.get(s)){customElements.define(s,b)}break;case"gcds-icon":if(!customElements.get(s)){o()}break;case"gcds-link":if(!customElements.get(s)){g()}break;case"gcds-sr-only":if(!customElements.get(s)){n()}break;case"gcds-text":if(!customElements.get(s)){l()}break}}))}const m=b;const p=u;export{m as GcdsCard,p as defineCustomElement};
//# sourceMappingURL=gcds-card.js.map