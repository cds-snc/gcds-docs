import{p as s,H as a,c as d,h as t,d as c}from"./p-BQgY5XdM.js";import{o as e,a as r,l as i}from"./p-DOKR5HKI.js";import{d as o}from"./p-CwNv12Ch.js";import{d as g}from"./p-DndacsTk.js";import{d as l}from"./p-l4qjNkyj.js";import{d as n}from"./p-DA0OyRaS.js";const h={en:{tagged:"Tagged:",badgeError:"gcds-card: The badge attribute has a character limit of 20 characters."},fr:{tagged:"Baliser :",badgeError:"gcds-card: L'attribut badge a une limite de caractères de 20 caractères."}};const f='@layer reset, default, link, hover, focus;@layer reset{:host{display:block}:host *{box-sizing:border-box;margin:0;padding:0}:host slot{display:initial}}@layer default{:host .gcds-card{background-color:var(--gcds-card-background-color);box-shadow:var(--gcds-card-box-shadow);color:var(--gcds-card-color);display:block;height:100%;max-width:var(--gcds-card-max-width);overflow:hidden;padding:var(--gcds-card-padding);position:relative}:host .gcds-card .gcds-badge{background-color:var(--gcds-card-badge-background-color);left:0;padding:var(--gcds-card-badge-padding);position:absolute;text-wrap:nowrap;top:0}@media only screen and (width < 48em){:host .gcds-card .gcds-badge{padding:var(--gcds-card-badge-mobile-padding)}}:host .gcds-card .gcds-card__image{display:block;margin:var(--gcds-card-image-margin);width:100%}:host .gcds-card .gcds-card__title{font:var(--gcds-card-title-font-desktop);width:fit-content}@media only screen and (width < 48em){:host .gcds-card .gcds-card__title{font:var(--gcds-card-title-font-mobile)}}:host .gcds-card .gcds-card__title:has(+.gcds-card__description){margin:var(--gcds-card-title-margin)}:host .gcds-card .gcds-card__description{--gcds-text-size-body-desktop:var(--gcds-card-description-font-desktop)}@media only screen and (width < 48em){:host .gcds-card .gcds-card__description{font:var(--gcds-card-description-font-mobile)}}}@layer link{:host .gcds-card gcds-link::part(link):after{bottom:0;content:"";left:0;pointer-events:auto;position:absolute;right:0;top:0}}@layer hover{@media (hover:hover){:host .gcds-card:hover{background-color:var(--gcds-card-hover-background-color);box-shadow:var(--gcds-card-hover-box-shadow);cursor:pointer}}}@layer focus{:host .gcds-card:focus-within{box-shadow:var(--gcds-card-focus-box-shadow);outline:var(--gcds-card-focus-outline);outline-offset:var(--gcds-card-focus-outline-offset)}:host gcds-link::part(link):focus{background-color:var(--gcds-card-focus-link-background-color);border:var(--gcds-card-focus-link-border);box-shadow:var(--gcds-card-focus-link-box-shadow);color:var(--gcds-card-focus-link-color);outline:var(--gcds-card-focus-link-outline);text-decoration:underline currentColor var(--gcds-card-focus-link-text-decoration-thickness)}}';const b=s(class s extends a{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsFocus=d(this,"gcdsFocus");this.gcdsBlur=d(this,"gcdsBlur");this.gcdsClick=d(this,"gcdsClick");this.errors=[]}validateCardTitle(){if(!this.cardTitle||this.cardTitle.trim()==""){this.errors.push("cardTitle")}else if(this.errors.includes("cardTitle")){this.errors.splice(this.errors.indexOf("cardTitle"),1)}}validateHref(){if(!this.href||this.href.trim()==""){this.errors.push("href")}else if(this.errors.includes("href")){this.errors.splice(this.errors.indexOf("href"),1)}}validateBadge(){if(this.badge&&this.badge.length>20){console.error(`${h["en"].badgeError} | ${h["fr"].badgeError}`);this.errors.push("badge")}else if(this.errors.includes("badge")){this.errors.splice(this.errors.indexOf("badge"),1)}}updateLang(){const s=new MutationObserver((s=>{if(s[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));s.observe(this.el,e)}validateRequiredProps(){this.validateCardTitle();this.validateHref();if(this.errors.includes("href")||this.errors.includes("cardTitle")){return false}return true}async componentWillLoad(){this.lang=r(this.el);this.updateLang();this.validateBadge();const s=this.validateRequiredProps();if(!s){i("gcds-card",this.errors,["badge"])}}get renderDescription(){if(this.el.innerHTML.trim()!=""){return t("div",{class:"gcds-card__description"},t("slot",null))}else if(this.description){return t("div",{class:"gcds-card__description"},t("gcds-text",{"margin-bottom":"0"},this.description))}else{return null}}render(){const{cardTitle:s,cardTitleTag:a,href:d,badge:e,imgSrc:r,imgAlt:i,rel:o,target:g,renderDescription:l,lang:n,errors:f}=this;const b=a;const u={};if(e){u["aria-describedby"]="gcds-badge"}if(this.validateRequiredProps()){return t(c,{key:"dd00869ab8d4fb7fd9abf68b0432899a475cedf8"},t("div",{key:"8f57992a1de761c5510f037b2a8136459f07b14d",class:"gcds-card"},e&&!f.includes("badge")&&t("gcds-text",{key:"42c7fc2a3c8b69d1cc454adb9ca1767fc9986566",id:"gcds-badge",class:"gcds-badge","text-role":"light","margin-bottom":"0",size:"small"},t("strong",{key:"32c13a05860a19a0a43ea995f645507604d9452c"},t("gcds-sr-only",{key:"2e47faade10e8138cbca10994293d9cd23c573a5",tag:"span"},h[n].tagged),e)),r&&t("img",{key:"6ccf1faa6faf20a9991e5374fef4ce96b71532ae",src:r,alt:i?i:"",class:"gcds-card__image"}),b?t(b,Object.assign({class:"gcds-card__title"},u),t("gcds-link",{href:d},s)):t("gcds-link",Object.assign({href:d,class:"gcds-card__title",rel:o,target:g},u),s),l))}}get el(){return this}static get watchers(){return{cardTitle:["validateCardTitle"],href:["validateHref"],badge:["validateBadge"]}}static get style(){return f}},[1,"gcds-card",{cardTitle:[513,"card-title"],href:[513],cardTitleTag:[1,"card-title-tag"],description:[513],badge:[1537],imgSrc:[513,"img-src"],imgAlt:[513,"img-alt"],rel:[1],target:[1],lang:[32],errors:[32]},undefined,{cardTitle:["validateCardTitle"],href:["validateHref"],badge:["validateBadge"]}]);function u(){if(typeof customElements==="undefined"){return}const s=["gcds-card","gcds-icon","gcds-link","gcds-sr-only","gcds-text"];s.forEach((s=>{switch(s){case"gcds-card":if(!customElements.get(s)){customElements.define(s,b)}break;case"gcds-icon":if(!customElements.get(s)){o()}break;case"gcds-link":if(!customElements.get(s)){g()}break;case"gcds-sr-only":if(!customElements.get(s)){l()}break;case"gcds-text":if(!customElements.get(s)){n()}break}}))}const m=b;const p=u;export{m as GcdsCard,p as defineCustomElement};
//# sourceMappingURL=gcds-card.js.map