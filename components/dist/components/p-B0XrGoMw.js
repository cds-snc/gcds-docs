import{p as e,H as s,c as t,h as i,d as a}from"./p-BQgY5XdM.js";import{i as r,h as d,o as l,a as c}from"./p-DJgogAZS.js";import{d as o,g as h,r as n}from"./p-CzzBSH10.js";import{d as g}from"./p-Dff2I2ku.js";import{d as u}from"./p-CZq1Zpp8.js";import{d as b}from"./p-CwNv12Ch.js";import{d as f}from"./p-DTskilae.js";import{d as p}from"./p-DeFvi7Po.js";const m="@layer reset, default, disabled, error, focus;@layer reset{:host{display:block}:host .gcds-select-wrapper{border:0;margin:0;padding:0}:host .gcds-select-wrapper select{box-sizing:border-box}:host .gcds-select-wrapper slot{display:initial}}@layer default{:host .gcds-select-wrapper{color:var(--gcds-select-default-text);font:var(--gcds-select-font-desktop);max-width:75ch;transition:color .15s ease-in-out}@media only screen and (width < 48em){:host .gcds-select-wrapper{font:var(--gcds-select-font-mobile)}}:host .gcds-select-wrapper select{-webkit-appearance:none;-moz-appearance:none;background-color:var(--gcds-select-default-background);background-image:url(\"data:image/svg+xml;utf8,<svg width='16' height='10' viewBox='0 0 16 10' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M0.799988 0.900024L7.79999 7.90003L14.8 0.900024' stroke='currentColor' stroke-width='2'/></svg>\");background-position-x:var(--gcds-select-arrow-position-x);background-position-y:50%;background-repeat:no-repeat;border:var(--gcds-select-border-width) solid;border-radius:var(--gcds-select-border-radius);box-sizing:border-box;color:var(--gcds-select-default-text);display:block;font:inherit;height:auto;margin:var(--gcds-select-margin)!important;max-width:100%;min-height:var(--gcds-select-min-width-and-height);min-width:var(--gcds-select-min-width-and-height);padding:var(--gcds-select-padding)!important;transition:all .15s ease-in-out}}@layer disabled{:host .gcds-select-wrapper.gcds-disabled{color:var(--gcds-select-disabled-text)}:host .gcds-select-wrapper.gcds-disabled gcds-label{--gcds-label-text:currentColor}:host .gcds-select-wrapper.gcds-disabled gcds-hint{--gcds-hint-text:currentColor}:host .gcds-select-wrapper.gcds-disabled select:disabled{background-color:var(--gcds-select-disabled-background);border-color:var(--gcds-select-disabled-text);cursor:not-allowed}}@layer error{:host .gcds-select-wrapper.gcds-error:not(:focus-within) select{border-color:var(--gcds-select-danger-border)}}@layer focus{:host .gcds-select-wrapper:focus-within select:focus{border-color:var(--gcds-select-focus-border);box-shadow:var(--gcds-select-focus-box-shadow);outline:var(--gcds-select-outline-width) solid var(--gcds-select-focus-border);outline-offset:var(--gcds-select-border-width)}}";const v=e(class e extends s{constructor(){super();this.__registerHost();this.__attachShadow();this.gcdsChange=t(this,"gcdsChange");this.gcdsInput=t(this,"gcdsInput");this.gcdsFocus=t(this,"gcdsFocus");this.gcdsBlur=t(this,"gcdsBlur");this.gcdsError=t(this,"gcdsError");this.gcdsValid=t(this,"gcdsValid");this.internals=this.attachInternals();this._validator=o;this.required=false;this.disabled=false;this.validateOn="blur";this.inheritedAttributes={};this.handleInput=(e,s)=>{const t=e.target&&e.target.value;this.value=t;this.internals.setFormValue(t);if(e.type==="change"){const s=new e.constructor(e.type,e);this.el.dispatchEvent(s)}s.emit(this.value)};this.onBlur=()=>{if(this.validateOn==="blur"){this.validate()}this.gcdsBlur.emit()}}validateDisabledSelect(){if(this.required){this.disabled=false}}watchValue(e){this.internals.setFormValue(e?e:null)}validateErrorMessage(){if(this.disabled){this.errorMessage=""}else if(!this.hasError&&this.errorMessage){this.hasError=true}else if(this.errorMessage==""){this.hasError=false}}validateValidator(){this._validator=h(this.validator)}validateHasError(){if(this.disabled){this.hasError=false}}ariaInvalidWatcher(){this.inheritedAttributes=r(this.el,this.shadowElement)}ariaDescriptiondWatcher(){this.inheritedAttributes=r(this.el,this.shadowElement)}async validate(){d(this.el,this._validator.validate(this.value),this.label,this.gcdsError,this.gcdsValid,this.lang)}submitListener(e){if(e.target==this.el.closest("form")){if(this.validateOn&&this.validateOn!="other"){this.validate()}if(this.hasError&&this.validateOn!="other"){e.preventDefault()}}}checkValueOrSelected(e){const s=e.getAttribute("value");if(this.value===s){e.setAttribute("selected","true");this.internals.setFormValue(s);this.initialValue=this.value}if(e.hasAttribute("selected")){this.value=s;this.internals.setFormValue(s);this.initialValue=this.value?this.value:null}}formResetCallback(){if(this.value!=this.initialValue){this.internals.setFormValue(this.initialValue);this.value=this.initialValue}}formStateRestoreCallback(e){this.internals.setFormValue(e);this.value=e}observeOptions(){const e={attributes:false,childList:true,characterData:true,subtree:true};const s=new MutationObserver((()=>{this.options=Array.from(this.el.children);this.value=null}));s.observe(this.el,e)}updateLang(){const e=new MutationObserver((e=>{if(e[0].oldValue!=this.el.lang){this.lang=this.el.lang}}));e.observe(this.el,l)}async componentWillLoad(){this.lang=c(this.el);this.updateLang();this.validateDisabledSelect();this.validateHasError();this.validateErrorMessage();n(this.el,"select");this.validateValidator();this.inheritedAttributes=r(this.el,this.shadowElement);if(this.el.children){this.options=Array.from(this.el.children);this.options.forEach((e=>{if(e.nodeName==="OPTION"){this.checkValueOrSelected(e)}else if(e.nodeName==="OPTGROUP"){const s=Array.from(e.children);s.map((e=>{this.checkValueOrSelected(e)}))}}))}}async componentDidLoad(){this.observeOptions()}render(){const{lang:e,selectId:s,label:t,required:r,disabled:d,defaultValue:l,value:c,hint:o,errorMessage:h,inheritedAttributes:n,hasError:g,name:u,options:b}=this;const f=Object.assign({name:u,disabled:d,required:r,value:c},n);const p={label:t,required:r};if(o||h){const e=o?`hint-${s} `:"";const t=h?`error-message-${s} `:"";f["aria-describedby"]=`${e}${t}${f["aria-describedby"]?`${f["aria-describedby"]}`:""}`}return i(a,{key:"f0926042e4a71b93d14a0e17bccee1df28807359"},i("div",{key:"bcf0fabf3ee8db8bf5eaa46a5adcbb5ef5d0ef8a",class:`gcds-select-wrapper ${d?"gcds-disabled":""} ${g?"gcds-error":""}`},i("gcds-label",Object.assign({key:"00ad8e8924c6793cfe63b3226b1d361f758e9aee"},p,{"label-for":s,lang:e})),o?i("gcds-hint",{"hint-id":s},o):null,h?i("gcds-error-message",{messageId:s},h):null,i("select",Object.assign({key:"4de00ba765ca550a1697f29abbb1fa0394736e39"},f,{id:s,onBlur:()=>this.onBlur(),onFocus:()=>this.gcdsFocus.emit(),onInput:e=>this.handleInput(e,this.gcdsInput),onChange:e=>this.handleInput(e,this.gcdsChange),"aria-invalid":n["aria-invalid"]==="true"?n["aria-invalid"]:h?"true":"false",part:"select",ref:e=>this.shadowElement=e}),l?i("option",{value:"",disabled:true,selected:true},l):null,b.map((e=>{if(e.nodeName==="OPTION"){const s=e.hasAttribute("selected")?{selected:true}:null;return i("option",Object.assign({value:e.getAttribute("value")},s),e.textContent)}else if(e.nodeName==="OPTGROUP"){const s=Array.from(e.children).map((e=>{const s=e.hasAttribute("selected")?{selected:true}:null;return i("option",Object.assign({value:e.getAttribute("value")},s),e.textContent)}));return i("optgroup",{label:e.getAttribute("label")},s)}})))))}static get delegatesFocus(){return true}static get formAssociated(){return true}get el(){return this}static get watchers(){return{disabled:["validateDisabledSelect"],value:["watchValue"],errorMessage:["validateErrorMessage"],validator:["validateValidator"],hasError:["validateHasError"],"aria-invalid":["ariaInvalidWatcher"],"aria-description":["ariaDescriptiondWatcher"]}}static get style(){return m}},[81,"gcds-select",{selectId:[1537,"select-id"],label:[513],name:[513],required:[516],disabled:[1540],defaultValue:[513,"default-value"],value:[1025],errorMessage:[1537,"error-message"],hint:[513],validator:[1040],validateOn:[1025,"validate-on"],hasError:[32],inheritedAttributes:[32],lang:[32],options:[32],validate:[64]},[[4,"submit","submitListener"]],{disabled:["validateDisabledSelect"],value:["watchValue"],errorMessage:["validateErrorMessage"],validator:["validateValidator"],hasError:["validateHasError"],"aria-invalid":["ariaInvalidWatcher"],"aria-description":["ariaDescriptiondWatcher"]}]);function w(){if(typeof customElements==="undefined"){return}const e=["gcds-select","gcds-error-message","gcds-hint","gcds-icon","gcds-label","gcds-text"];e.forEach((e=>{switch(e){case"gcds-select":if(!customElements.get(e)){customElements.define(e,v)}break;case"gcds-error-message":if(!customElements.get(e)){g()}break;case"gcds-hint":if(!customElements.get(e)){u()}break;case"gcds-icon":if(!customElements.get(e)){b()}break;case"gcds-label":if(!customElements.get(e)){f()}break;case"gcds-text":if(!customElements.get(e)){p()}break}}))}export{v as G,w as d};
//# sourceMappingURL=p-B0XrGoMw.js.map