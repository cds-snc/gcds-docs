{"version":3,"names":["I18N","en","abbreviation","heading","language","fr","gcdsLangToggleCss","GcdsLangToggle","__stencil_proxyCustomElement","HTMLElement","updateLang","observer","MutationObserver","mutations","oldValue","this","el","lang","observe","observerConfig","componentWillLoad","assignLanguage","render","href","h","Host","key","class","id","tag","i18n","size","title"],"sources":["src/components/gcds-lang-toggle/i18n/i18n.js","src/components/gcds-lang-toggle/gcds-lang-toggle.css?tag=gcds-lang-toggle&encapsulation=shadow","src/components/gcds-lang-toggle/gcds-lang-toggle.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    abbreviation: 'fr',\n    heading: 'Language selection',\n    language: 'Français',\n  },\n  fr: {\n    abbreviation: 'en',\n    heading: 'Sélection de la langue',\n    language: 'English',\n  },\n};\n\nexport default I18N;\n","@layer reset, default, desktop, mobile;\n\n@layer reset {\n  :host {\n    display: block;\n\n    .gcds-lang-toggle h2 {\n      margin: 0;\n      overflow: hidden;\n      position: absolute;\n      width: 0;\n    }\n  }\n}\n\n@layer default {\n  :host .gcds-lang-toggle {\n    gcds-link::part(link) {\n      display: inline-block;\n      padding: var(--gcds-lang-toggle-padding);\n    }\n\n    span {\n      display: none;\n    }\n\n    abbr {\n      text-transform: uppercase;\n      text-decoration: none;\n    }\n  }\n}\n\n/* Note: viewport specific style decision */\n@layer desktop {\n  @media screen and (width >= 48em) {\n    :host .gcds-lang-toggle {\n      gcds-link::part(link) {\n        font: var(--gcds-lang-toggle-font-desktop);\n        padding-inline: 0 !important;\n      }\n\n      span {\n        display: initial;\n      }\n\n      abbr {\n        display: none;\n      }\n    }\n  }\n}\n\n@layer mobile {\n  @media screen and (width < 48em) {\n    :host .gcds-lang-toggle gcds-link::part(link) {\n      font: var(--gcds-lang-toggle-font-mobile);\n    }\n  }\n}","import {\n  Component,\n  Element,\n  Host,\n  Prop,\n  State,\n  Event,\n  EventEmitter,\n  h,\n} from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport i18n from './i18n/i18n';\n\n/**\n * The language toggle is a link to the same content in the other Official Language.\n */\n@Component({\n  tag: 'gcds-lang-toggle',\n  styleUrl: 'gcds-lang-toggle.css',\n  shadow: true,\n})\nexport class GcdsLangToggle {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * The href attribute specifies the URL of the opposite language page\n   */\n  @Prop({ reflect: true, mutable: false }) href!: string;\n\n  /**\n   * Events\n   */\n\n  /**\n   * Emitted when the link has focus.\n   */\n  @Event() gcdsFocus!: EventEmitter<void>;\n\n  /**\n   * Emitted when the link loses focus.\n   */\n  @Event() gcdsBlur!: EventEmitter<void>;\n\n  /**\n   * Emitted when the link has been clicked. Contains the href in the event detail.\n   */\n  @Event() gcdsClick!: EventEmitter<string>;\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n  }\n\n  render() {\n    const { lang, href } = this;\n\n    return (\n      <Host>\n        <div class=\"gcds-lang-toggle\">\n          <gcds-sr-only id=\"lang-toggle__heading\" tag=\"h2\">\n            {i18n[lang].heading}\n          </gcds-sr-only>\n          <gcds-link size=\"regular\" href={href} lang={i18n[lang].abbreviation}>\n            <span>{i18n[lang].language}</span>\n            <abbr title={i18n[lang].language}>{i18n[lang].abbreviation}</abbr>\n          </gcds-link>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"kNAAA,MAAMA,EAAO,CACXC,GAAI,CACFC,aAAc,KACdC,QAAS,qBACTC,SAAU,YAEZC,GAAI,CACFH,aAAc,KACdC,QAAS,yBACTC,SAAU,YCTd,MAAME,EAAoB,+wB,MCqBbC,EAAcC,EAAA,MAAAD,UAAAE,E,yKAuCzB,UAAAC,GACE,MAAMC,EAAW,IAAIC,kBAAiBC,IACpC,GAAIA,EAAU,GAAGC,UAAYC,KAAKC,GAAGC,KAAM,CACzCF,KAAKE,KAAOF,KAAKC,GAAGC,I,KAGxBN,EAASO,QAAQH,KAAKC,GAAIG,E,CAG5B,uBAAMC,GAEJL,KAAKE,KAAOI,EAAeN,KAAKC,IAEhCD,KAAKL,Y,CAGP,MAAAY,GACE,MAAML,KAAEA,EAAIM,KAAEA,GAASR,KAEvB,OACES,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAK,OAAAE,IAAA,2CAAAC,MAAM,oBACTH,EAAA,gBAAAE,IAAA,2CAAcE,GAAG,uBAAuBC,IAAI,MACzCC,EAAKb,GAAMd,SAEdqB,EAAA,aAAAE,IAAA,2CAAWK,KAAK,UAAUR,KAAMA,EAAMN,KAAMa,EAAKb,GAAMf,cACrDsB,EAAA,QAAAE,IAAA,4CAAOI,EAAKb,GAAMb,UAClBoB,EAAM,QAAAE,IAAA,2CAAAM,MAAOF,EAAKb,GAAMb,UAAW0B,EAAKb,GAAMf,gB","ignoreList":[]}