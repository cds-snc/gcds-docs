{"file":"gcds-notice.js","mappings":"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","names":["GcdsNotice","i18n"],"sources":["src/components/gcds-notice/i18n/i18n.js","src/components/gcds-notice/gcds-notice.css?tag=gcds-notice&encapsulation=shadow","src/components/gcds-notice/gcds-notice.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    success: 'Success: ',\n    info: 'Information: ',\n    warning: 'Warning: ',\n    danger: 'Danger: '\n  },\n  fr: {\n    success: 'Succ√®s : ',\n    info: 'Information : ',\n    warning: 'Avertissement : ',\n    danger: 'Danger : '\n  },\n};\n\nexport default I18N;\n","@layer reset, default, type;\n\n@layer reset {\n  :host {\n    display: block;\n\n    .gcds-notice {\n      text-align: left;\n      box-sizing: border-box;\n\n      slot {\n        display: initial;\n      }\n    }\n  }\n}\n\n@layer default {\n  :host .gcds-notice {\n    color: var(--gcds-notice-text);\n    display: grid;\n    grid-template-columns: var(--gcds-notice-icon-width) auto;\n    gap: var(--gcds-notice-icon-gap);\n\n    .notice__heading {\n      --gcds-heading-h2-desktop: var(\n        --gcds-notice-content-heading-font-desktop\n      );\n      --gcds-heading-h2-mobile: var(--gcds-notice-content-heading-font-mobile);\n      --gcds-heading-h4-desktop: var(\n        --gcds-notice-content-heading-font-desktop\n      );\n      --gcds-heading-h4-mobile: var(--gcds-notice-content-heading-font-mobile);\n      --gcds-heading-h5-desktop: var(\n        --gcds-notice-content-heading-font-desktop\n      );\n      --gcds-heading-h5-mobile: var(--gcds-notice-content-heading-font-mobile);\n      margin-block-start: var(--gcds-notice-content-heading-margin-block-start-desktop);\n\n      @media only screen and (width < 48em) {\n        margin-block-start: var(--gcds-notice-content-heading-margin-block-start-mobile);\n      }\n    }\n\n    .notice__icon {\n      margin: var(--gcds-notice-icon-margin);\n\n      &:before {\n        display: block;\n        width: var(--gcds-notice-border-width);\n        margin: 0 auto;\n        height: var(--gcds-notice-icon-before-height);\n        content: '';\n        background-color: currentColor;\n      }\n\n      &:after {\n        display: block;\n        width: var(--gcds-notice-border-width);\n        margin: 0 auto;\n        height: var(--gcds-notice-icon-after-height);\n        content: '';\n        background-color: currentColor;\n      }\n    }\n\n    ::slotted(*) {\n      margin-block-start: 0;\n      font: var(--gcds-notice-content-slotted-font-desktop);\n\n      @media only screen and (width < 48em) {\n        font: var(--gcds-notice-content-slotted-font-mobile);\n      }\n    }\n\n    ::slotted(*:last-child) {\n      margin-block-end: 0;\n    }\n\n    ::slotted(*:not(:last-child)) {\n      margin-block-end: var(--gcds-notice-content-slotted-margin);\n    }\n\n    ::slotted(ol),\n    ::slotted(ul) {\n      margin-inline-start: var(--gcds-notice-content-slotted-list-margin);\n      padding: 0;\n    }\n  }\n}\n\n@layer type {\n  :host .gcds-notice {\n    &.notice--type-danger .notice__icon {\n      color: var(--gcds-notice-danger-text);\n    }\n\n    &.notice--type-info .notice__icon {\n      color: var(--gcds-notice-info-text);\n    }\n\n    &.notice--type-success .notice__icon {\n      color: var(--gcds-notice-success-text);\n    }\n\n    &.notice--type-warning .notice__icon {\n      color: var(--gcds-notice-warning-text);\n    }\n  }\n}\n","import { Component, Element, Host, Prop, State, h } from '@stencil/core';\nimport { assignLanguage, observerConfig, logError } from '../../utils/utils';\nimport i18n from './i18n/i18n';\n\n@Component({\n  tag: 'gcds-notice',\n  styleUrl: 'gcds-notice.css',\n  shadow: true,\n})\nexport class GcdsNotice {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Set notice type.\n   */\n  @Prop() type!: 'danger' | 'info' | 'success' | 'warning';\n  validateType() {\n    if (!this.type) {\n      this.errors.push('type');\n    } else if (this.errors.includes('type')) {\n      this.errors.splice(this.errors.indexOf('type'), 1);\n    }\n  }\n\n  /**\n   * Set the notice title.\n   */\n  @Prop() noticeTitle!: string;\n  validateNoticeTitle() {\n    if (!this.noticeTitle || this.noticeTitle === '') {\n      this.errors.push('noticeTitle');\n    } else if (this.errors.includes('noticeTitle')) {\n      this.errors.splice(this.errors.indexOf('noticeTitle'), 1);\n    }\n  }\n\n  /**\n   * The notice title tag property specifies the HTML heading element for the title.\n   * This property does not modify the font size. It is used to assign the heading level\n   * in order to maintain heading hierarchy and accessibility for assistive technologies.\n   */\n  @Prop() noticeTitleTag!: 'h2' | 'h3' | 'h4' | 'h5';\n  validateNoticeTitleTag() {\n    if (\n      !this.noticeTitleTag ||\n      !['h2', 'h3', 'h4', 'h5'].includes(this.noticeTitleTag)\n    ) {\n      this.errors.push('noticeTitleTag');\n    } else if (this.errors.includes('noticeTitleTag')) {\n      this.errors.splice(this.errors.indexOf('noticeTitleTag'), 1);\n    }\n  }\n\n  /**\n   * States\n   */\n\n  /**\n   * State to track validation on properties\n   * Contains a list of properties that have an error associated with them\n   */\n  @State() errors: Array<string> = [];\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  private validateChildren() {\n    if (this.el.innerHTML.trim() == '') {\n      this.errors.push('children');\n    } else if (this.errors.includes('children')) {\n      this.errors.splice(this.errors.indexOf('children'), 1);\n    }\n  }\n\n  private validateRequiredProps() {\n    this.validateNoticeTitle();\n    this.validateType();\n    this.validateNoticeTitleTag();\n    this.validateChildren();\n\n    if (\n      this.errors.includes('type') ||\n      this.errors.includes('noticeTitle') ||\n      this.errors.includes('noticeTitleTag') ||\n      this.errors.includes('children')\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    let valid = this.validateRequiredProps();\n\n    if (!valid) {\n      logError('gcds-notice', this.errors);\n    }\n  }\n\n  render() {\n    const { type, noticeTitle, noticeTitleTag } = this;\n\n    const iconTypes = {\n      danger: 'exclamation-circle',\n      info: 'info-circle',\n      success: 'check-circle',\n      warning: 'exclamation-triangle',\n    };\n\n    return (\n      <Host>\n        {this.validateRequiredProps() && (\n          <section class={`gcds-notice notice--type-${type}`}>\n            <gcds-icon class=\"notice__icon\" size=\"h4\" name={iconTypes[type]} />\n            <div>\n              <gcds-heading\n                tag={noticeTitleTag}\n                margin-top=\"0\"\n                margin-bottom=\"100\"\n                class=\"notice__heading\"\n              >\n                <gcds-sr-only tag=\"span\">{i18n[this.lang][type]}</gcds-sr-only>\n                {noticeTitle}\n              </gcds-heading>\n              <slot></slot>\n            </div>\n          </section>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}