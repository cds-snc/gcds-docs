{"version":3,"names":["I18N","en","success","info","warning","danger","fr","gcdsNoticeCss","GcdsNotice","__stencil_proxyCustomElement","HTMLElement","constructor","this","errors","validateType","type","push","includes","splice","indexOf","validateNoticeTitle","noticeTitle","validateNoticeTitleTag","noticeTitleTag","updateLang","observer","MutationObserver","mutations","oldValue","el","lang","observe","observerConfig","validateChildren","innerHTML","trim","validateRequiredProps","componentWillLoad","assignLanguage","valid","logError","render","iconTypes","h","Host","key","class","size","name","tag","i18n"],"sources":["src/components/gcds-notice/i18n/i18n.js","src/components/gcds-notice/gcds-notice.css?tag=gcds-notice&encapsulation=shadow","src/components/gcds-notice/gcds-notice.tsx"],"sourcesContent":["const I18N = {\n  en: {\n    success: 'Success: ',\n    info: 'Information: ',\n    warning: 'Warning: ',\n    danger: 'Danger: '\n  },\n  fr: {\n    success: 'Succ√®s : ',\n    info: 'Information : ',\n    warning: 'Avertissement : ',\n    danger: 'Danger : '\n  },\n};\n\nexport default I18N;\n","@layer reset, default, type;\n\n@layer reset {\n  :host {\n    display: block;\n\n    .gcds-notice {\n      text-align: left;\n      box-sizing: border-box;\n\n      slot {\n        display: initial;\n      }\n    }\n  }\n}\n\n@layer default {\n  :host .gcds-notice {\n    color: var(--gcds-notice-text);\n    display: grid;\n    grid-template-columns: var(--gcds-notice-icon-width) auto;\n    gap: var(--gcds-notice-icon-gap);\n\n    .notice__heading {\n      --gcds-heading-h2-desktop: var(\n        --gcds-notice-content-heading-font-desktop\n      );\n      --gcds-heading-h2-mobile: var(--gcds-notice-content-heading-font-mobile);\n      --gcds-heading-h4-desktop: var(\n        --gcds-notice-content-heading-font-desktop\n      );\n      --gcds-heading-h4-mobile: var(--gcds-notice-content-heading-font-mobile);\n      --gcds-heading-h5-desktop: var(\n        --gcds-notice-content-heading-font-desktop\n      );\n      --gcds-heading-h5-mobile: var(--gcds-notice-content-heading-font-mobile);\n      margin-block-start: var(--gcds-notice-content-heading-margin-block-start-desktop);\n\n      @media only screen and (width < 48em) {\n        margin-block-start: var(--gcds-notice-content-heading-margin-block-start-mobile);\n      }\n    }\n\n    .notice__icon {\n      margin: var(--gcds-notice-icon-margin);\n\n      &:before {\n        display: block;\n        width: var(--gcds-notice-border-width);\n        margin: 0 auto;\n        height: var(--gcds-notice-icon-before-height);\n        content: '';\n        background-color: currentColor;\n      }\n\n      &:after {\n        display: block;\n        width: var(--gcds-notice-border-width);\n        margin: 0 auto;\n        height: var(--gcds-notice-icon-after-height);\n        content: '';\n        background-color: currentColor;\n      }\n    }\n\n    ::slotted(*) {\n      margin-block-start: 0;\n      font: var(--gcds-notice-content-slotted-font-desktop);\n\n      @media only screen and (width < 48em) {\n        font: var(--gcds-notice-content-slotted-font-mobile);\n      }\n    }\n\n    ::slotted(*:last-child) {\n      margin-block-end: 0;\n    }\n\n    ::slotted(*:not(:last-child)) {\n      margin-block-end: var(--gcds-notice-content-slotted-margin);\n    }\n\n    ::slotted(ol),\n    ::slotted(ul) {\n      margin-inline-start: var(--gcds-notice-content-slotted-list-margin);\n      padding: 0;\n    }\n  }\n}\n\n@layer type {\n  :host .gcds-notice {\n    &.notice--type-danger .notice__icon {\n      color: var(--gcds-notice-danger-text);\n    }\n\n    &.notice--type-info .notice__icon {\n      color: var(--gcds-notice-info-text);\n    }\n\n    &.notice--type-success .notice__icon {\n      color: var(--gcds-notice-success-text);\n    }\n\n    &.notice--type-warning .notice__icon {\n      color: var(--gcds-notice-warning-text);\n    }\n  }\n}\n","import { Component, Element, Host, Prop, State, h } from '@stencil/core';\nimport { assignLanguage, observerConfig, logError } from '../../utils/utils';\nimport i18n from './i18n/i18n';\n\n@Component({\n  tag: 'gcds-notice',\n  styleUrl: 'gcds-notice.css',\n  shadow: true,\n})\nexport class GcdsNotice {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Set notice type.\n   */\n  @Prop() type!: 'danger' | 'info' | 'success' | 'warning';\n  validateType() {\n    if (!this.type) {\n      this.errors.push('type');\n    } else if (this.errors.includes('type')) {\n      this.errors.splice(this.errors.indexOf('type'), 1);\n    }\n  }\n\n  /**\n   * Set the notice title.\n   */\n  @Prop() noticeTitle!: string;\n  validateNoticeTitle() {\n    if (!this.noticeTitle || this.noticeTitle === '') {\n      this.errors.push('noticeTitle');\n    } else if (this.errors.includes('noticeTitle')) {\n      this.errors.splice(this.errors.indexOf('noticeTitle'), 1);\n    }\n  }\n\n  /**\n   * The notice title tag property specifies the HTML heading element for the title.\n   * This property does not modify the font size. It is used to assign the heading level\n   * in order to maintain heading hierarchy and accessibility for assistive technologies.\n   */\n  @Prop() noticeTitleTag!: 'h2' | 'h3' | 'h4' | 'h5';\n  validateNoticeTitleTag() {\n    if (\n      !this.noticeTitleTag ||\n      !['h2', 'h3', 'h4', 'h5'].includes(this.noticeTitleTag)\n    ) {\n      this.errors.push('noticeTitleTag');\n    } else if (this.errors.includes('noticeTitleTag')) {\n      this.errors.splice(this.errors.indexOf('noticeTitleTag'), 1);\n    }\n  }\n\n  /**\n   * States\n   */\n\n  /**\n   * State to track validation on properties\n   * Contains a list of properties that have an error associated with them\n   */\n  @State() errors: Array<string> = [];\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  private validateChildren() {\n    if (this.el.innerHTML.trim() == '') {\n      this.errors.push('children');\n    } else if (this.errors.includes('children')) {\n      this.errors.splice(this.errors.indexOf('children'), 1);\n    }\n  }\n\n  private validateRequiredProps() {\n    this.validateNoticeTitle();\n    this.validateType();\n    this.validateNoticeTitleTag();\n    this.validateChildren();\n\n    if (\n      this.errors.includes('type') ||\n      this.errors.includes('noticeTitle') ||\n      this.errors.includes('noticeTitleTag') ||\n      this.errors.includes('children')\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    let valid = this.validateRequiredProps();\n\n    if (!valid) {\n      logError('gcds-notice', this.errors);\n    }\n  }\n\n  render() {\n    const { type, noticeTitle, noticeTitleTag } = this;\n\n    const iconTypes: {\n      [key in 'danger' | 'info' | 'success' | 'warning']:\n        | 'exclamation-circle'\n        | 'info-circle'\n        | 'checkmark-circle'\n        | 'warning-triangle';\n    } = {\n      danger: 'exclamation-circle',\n      info: 'info-circle',\n      success: 'checkmark-circle',\n      warning: 'warning-triangle',\n    };\n\n    return (\n      <Host>\n        {this.validateRequiredProps() && (\n          <section class={`gcds-notice notice--type-${type}`}>\n            <gcds-icon\n              class=\"notice__icon\"\n              size=\"h4\"\n              name={\n                iconTypes[type] as\n                  | 'exclamation-circle'\n                  | 'info-circle'\n                  | 'checkmark-circle'\n                  | 'warning-triangle'\n              }\n            />\n            <div>\n              <gcds-heading\n                tag={noticeTitleTag}\n                margin-top=\"0\"\n                margin-bottom=\"100\"\n                class=\"notice__heading\"\n              >\n                <gcds-sr-only tag=\"span\">{i18n[this.lang][type]}</gcds-sr-only>\n                {noticeTitle}\n              </gcds-heading>\n              <slot></slot>\n            </div>\n          </section>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"kNAAA,MAAMA,EAAO,CACXC,GAAI,CACFC,QAAS,YACTC,KAAM,gBACNC,QAAS,YACTC,OAAQ,YAEVC,GAAI,CACFJ,QAAS,YACTC,KAAM,iBACNC,QAAS,mBACTC,OAAQ,cCXZ,MAAME,EAAgB,25E,MCSTC,EAAUC,EAAA,MAAAD,UAAAE,EALvB,WAAAC,G,oDA6DWC,KAAMC,OAAkB,EAyGlC,CAtJC,YAAAC,GACE,IAAKF,KAAKG,KAAM,CACdH,KAAKC,OAAOG,KAAK,O,MACZ,GAAIJ,KAAKC,OAAOI,SAAS,QAAS,CACvCL,KAAKC,OAAOK,OAAON,KAAKC,OAAOM,QAAQ,QAAS,E,EAQpD,mBAAAC,GACE,IAAKR,KAAKS,aAAeT,KAAKS,cAAgB,GAAI,CAChDT,KAAKC,OAAOG,KAAK,c,MACZ,GAAIJ,KAAKC,OAAOI,SAAS,eAAgB,CAC9CL,KAAKC,OAAOK,OAAON,KAAKC,OAAOM,QAAQ,eAAgB,E,EAU3D,sBAAAG,GACE,IACGV,KAAKW,iBACL,CAAC,KAAM,KAAM,KAAM,MAAMN,SAASL,KAAKW,gBACxC,CACAX,KAAKC,OAAOG,KAAK,iB,MACZ,GAAIJ,KAAKC,OAAOI,SAAS,kBAAmB,CACjDL,KAAKC,OAAOK,OAAON,KAAKC,OAAOM,QAAQ,kBAAmB,E,EAsB9D,UAAAK,GACE,MAAMC,EAAW,IAAIC,kBAAiBC,IACpC,GAAIA,EAAU,GAAGC,UAAYhB,KAAKiB,GAAGC,KAAM,CACzClB,KAAKkB,KAAOlB,KAAKiB,GAAGC,I,KAGxBL,EAASM,QAAQnB,KAAKiB,GAAIG,E,CAGpB,gBAAAC,GACN,GAAIrB,KAAKiB,GAAGK,UAAUC,QAAU,GAAI,CAClCvB,KAAKC,OAAOG,KAAK,W,MACZ,GAAIJ,KAAKC,OAAOI,SAAS,YAAa,CAC3CL,KAAKC,OAAOK,OAAON,KAAKC,OAAOM,QAAQ,YAAa,E,EAIhD,qBAAAiB,GACNxB,KAAKQ,sBACLR,KAAKE,eACLF,KAAKU,yBACLV,KAAKqB,mBAEL,GACErB,KAAKC,OAAOI,SAAS,SACrBL,KAAKC,OAAOI,SAAS,gBACrBL,KAAKC,OAAOI,SAAS,mBACrBL,KAAKC,OAAOI,SAAS,YACrB,CACA,OAAO,K,CAET,OAAO,I,CAGT,uBAAMoB,GAEJzB,KAAKkB,KAAOQ,EAAe1B,KAAKiB,IAEhCjB,KAAKY,aAEL,IAAIe,EAAQ3B,KAAKwB,wBAEjB,IAAKG,EAAO,CACVC,EAAS,cAAe5B,KAAKC,O,EAIjC,MAAA4B,GACE,MAAM1B,KAAEA,EAAIM,YAAEA,EAAWE,eAAEA,GAAmBX,KAE9C,MAAM8B,EAMF,CACFrC,OAAQ,qBACRF,KAAM,cACND,QAAS,mBACTE,QAAS,oBAGX,OACEuC,EAACC,EAAI,CAAAC,IAAA,4CACFjC,KAAKwB,yBACJO,EAAS,WAAAE,IAAA,2CAAAC,MAAO,4BAA4B/B,KAC1C4B,EAAA,aAAAE,IAAA,2CACEC,MAAM,eACNC,KAAK,KACLC,KACEN,EAAU3B,KAOd4B,EAAA,OAAAE,IAAA,4CACEF,EACE,gBAAAE,IAAA,2CAAAI,IAAK1B,EACM,iBAAG,gBACA,MACduB,MAAM,mBAENH,EAAA,gBAAAE,IAAA,2CAAcI,IAAI,QAAQC,EAAKtC,KAAKkB,MAAMf,IACzCM,GAEHsB,EAAA,QAAAE,IAAA,+C","ignoreList":[]}