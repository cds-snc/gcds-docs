{"file":"validator.factory.js","mappings":"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","names":[],"sources":["src/validators/validator.ts","src/validators/input-validators/input-validators.ts","src/validators/validator.factory.ts"],"sourcesContent":["export interface ValidatorOld<A> {\n  validate: (x: A) => any;\n  errorMessage?: object;\n}\n\nexport interface ValidatorReturn {\n  valid: boolean;\n  reason: {\n    en: string;\n    fr: string;\n  };\n  errors?: object;\n}\n\nexport interface Validator<A> {\n  validate: (x: A) => ValidatorReturn;\n}\n\nexport interface ValidatorEntry {\n  name: string;\n  options?: unknown;\n}\n\nexport interface GcdsErrorInterface {\n  id: string;\n  message: string;\n}\n\nexport const defaultValidator: Validator<any> = {\n  validate: () => {\n    return {\n      valid: true,\n      reason: {\n        en: '',\n        fr: '',\n      },\n    };\n  },\n};\n\nexport function combineValidators<A>(\n  v1: Validator<A> | ValidatorOld<A>,\n  v2: Validator<A> | ValidatorOld<A>,\n): Validator<A> {\n  return {\n    validate: (x: A) => {\n      const res1 = v1.validate(x);\n      const res2 = v2.validate(x);\n\n      if (\n        (typeof res1 === 'object' && !res1.valid) ||\n        (typeof res1 === 'boolean' && !res1)\n      ) {\n        return typeof res1 === 'object'\n          ? res1\n          : { valid: res1, reason: (v1 as ValidatorOld<A>).errorMessage };\n      } else if (\n        (typeof res2 === 'object' && !res2.valid) ||\n        (typeof res2 === 'boolean' && !res2)\n      ) {\n        return typeof res2 === 'object'\n          ? res2\n          : { valid: res2, reason: (v2 as ValidatorOld<A>).errorMessage };\n      } else {\n        return {\n          valid: true,\n          reason: {\n            en: '',\n            fr: '',\n          },\n        };\n      }\n    },\n  };\n}\n\nexport function requiredValidator(element, type, subtype?) {\n  if (element.required) {\n    switch (type) {\n      // Components all validate the \"value\" property\n      case 'input':\n        switch (subtype) {\n          case 'email':\n            if (element.validator) {\n              element.validator.unshift('requiredEmailField');\n            } else {\n              element.validator = ['requiredEmailField'];\n            }\n            break;\n          default:\n            if (element.validator) {\n              element.validator.unshift('requiredField');\n            } else {\n              element.validator = ['requiredField'];\n            }\n            break;\n        }\n        break;\n      case 'select':\n        if (element.validator) {\n          element.validator.unshift('requiredSelectField');\n        } else {\n          element.validator = ['requiredSelectField'];\n        }\n        break;\n      case 'textarea':\n        if (element.validator) {\n          element.validator.unshift('requiredField');\n        } else {\n          element.validator = ['requiredField'];\n        }\n        break;\n      case 'file':\n        if (element.validator) {\n          element.validator.unshift('requiredFileInput');\n        } else {\n          element.validator = ['requiredFileInput'];\n        }\n        break;\n\n      case 'date-input':\n        if (element.validator) {\n          element.validator.unshift('requiredDateInput');\n        } else {\n          element.validator = ['requiredDateInput'];\n        }\n        break;\n      case 'radio':\n        if (element.validator) {\n          element.validator.unshift('requiredRadio');\n        } else {\n          element.validator = ['requiredRadio'];\n        }\n        break;\n      case 'checkboxGroup':\n        if (element.validator) {\n          element.validator.unshift('requiredCheckboxGroup');\n        } else {\n          element.validator = ['requiredCheckboxGroup'];\n        }\n        break;\n      case 'checkboxSingle':\n        if (element.validator) {\n          element.validator.unshift('requiredCheckboxSingle');\n        } else {\n          element.validator = ['requiredCheckboxSingle'];\n        }\n        break;\n    }\n  }\n}\n\n/*\nExample of parameter validator\n\nexport function getLengthValidator(min: number, max: number): Validator<string> {\n    // Create errorMessage object\n    let errorMessage = {};\n    if (min && max) {\n        errorMessage[\"en\"] = `You must enter between ${min} and ${max} characters`;\n        errorMessage[\"fr\"] = `French You must enter between ${min} and ${max} characters`;\n    } else if (min) {\n        errorMessage[\"en\"] = `You must enter at least ${min} characters`;\n        errorMessage[\"fr\"] = `French You must enter at least ${min} characters`;\n    } else if (max) {\n        errorMessage[\"en\"] = `You must enter less than ${max} characters`;\n        errorMessage[\"fr\"] = `French You must enter less than ${max} characters`;\n    }\n    return {\n        validate: (value: string) => {\n            value = value || '';\n            if (min && max) {\n                return min <= value.length && value.length <= max;\n            }\n            if (min) {\n                return min <= value.length;\n            }\n            if (max) {\n                return value.length <= max;\n            }\n            return true;\n        },\n        errorMessage\n    };\n}\n*/\n","import { Validator } from '../validator';\nimport { isValidDate } from '../../utils/utils';\n\nconst emailPattern =\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nexport const requiredField: Validator<string> = {\n  validate: (value: string) => {\n    return {\n      valid: value != null && value.trim() != '',\n      reason: {\n        en: 'Enter information to continue.',\n        fr: 'Saisissez des renseignements pour continuer.',\n      },\n    };\n  },\n};\n\nexport const requiredEmailField: Validator<string> = {\n  validate: (value: string) => {\n    return {\n      valid:\n        value != null &&\n        value.trim() != '' &&\n        (value.toLowerCase().match(emailPattern) ? true : false),\n      reason: {\n        en: 'Enter a valid email address to continue. Use a standard format. Example: name@address.ca.',\n        fr: 'Saisissez votre adresse courriel pour continuer. Utilisez un format standard. Exemple: nom@adresse.ca.',\n      },\n    };\n  },\n};\n\nexport const requiredFileInput: Validator<FileList> = {\n  validate: (value: FileList) => {\n    return {\n      valid: value.length > 0,\n      reason: {\n        en: 'You must upload a file to continue.',\n        fr: 'Vous devez téléverser un fichier pour continuer.',\n      },\n    };\n  },\n};\n\nexport const requiredSelectField: Validator<string> = {\n  validate: (value: string) => {\n    return {\n      valid: value != null && value.trim() != '',\n      reason: {\n        en: 'Choose an option to continue.',\n        fr: 'Choisissez une option pour continuer.',\n      },\n    };\n  },\n};\n\n/*\n * Date input validators\n */\nexport const dateInputErrorMessage = {\n  en: {\n    all: 'Enter the date.',\n    missingmonth: 'Select the month.',\n    missingyear: 'Enter the year.',\n    missingday: 'Enter the day.',\n    missingmonthday: 'Select the month and enter the day.',\n    missingmonthyear: 'Select the month and enter the year.',\n    missingdayyear: 'Enter the day and year.',\n    invalidyearlength: 'Year must be 4 digits.',\n    invalidyear: 'Enter a valid year.',\n    invalidday: 'Enter a valid day.',\n  },\n  fr: {\n    all: 'Saisissez la date.',\n    missingmonth: 'Sélectionnez un mois.',\n    missingyear: \"Saisissez l'année.\",\n    missingday: 'Saisissez le jour.',\n    missingmonthday: 'Saisissez le jour et sélectionnez un mois.',\n    missingmonthyear: \"Sélectionnez un mois et saisissez l'année.\",\n    missingdayyear: \"Saisissez le jour et l'année.\",\n    invalidyearlength: \"L'année doit inclure 4 chiffres.\",\n    invalidyear: 'Entrez une année valide.',\n    invalidday: 'Saisissez un jour valide.',\n  },\n};\n\nexport const requiredDateInput: Validator<string> = {\n  validate: (date: string) => {\n    if (isValidDate(date)) {\n      return {\n        valid: true,\n        reason: {\n          en: '',\n          fr: '',\n        },\n      };\n    }\n\n    const splitDate = date.split('-');\n    const dateObject = {\n      day: splitDate[2],\n      month: splitDate[1],\n      year: splitDate[0],\n    };\n\n    const format = splitDate.length === 3 ? 'full' : 'compact';\n\n    const error = getDateInputError(dateObject, format);\n\n    return error;\n  },\n};\n\nconst getDateInputError = (dateValues, format) => {\n  const { day, month, year } = dateValues;\n\n  const errorResponse = {\n    valid: false,\n    errors: {\n      day: false,\n      month: false,\n      year: false,\n    },\n    reason: {\n      en: '',\n      fr: '',\n    },\n  };\n\n  // No values set\n  if (!day && !month && !year) {\n    errorResponse.errors.day = true;\n    errorResponse.errors.month = true;\n    errorResponse.errors.year = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.all;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.all;\n\n    // No day set\n  } else if (!day && month && year) {\n    errorResponse.errors.day = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.missingday;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.missingday;\n\n    // No month set\n  } else if (\n    (day && !month && year) ||\n    (!day && !month && year && format === 'compact')\n  ) {\n    errorResponse.errors.month = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.missingmonth;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.missingmonth;\n\n    // No year set\n  } else if (\n    (day && month && !year) ||\n    (!day && month && !year && format === 'compact')\n  ) {\n    errorResponse.errors.year = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.missingyear;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.missingyear;\n\n    // No day and month set\n  } else if (!day && !month && year) {\n    errorResponse.errors.day = true;\n    errorResponse.errors.month = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.missingmonthday;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.missingmonthday;\n\n    // No day and year set\n  } else if (!day && month && !year) {\n    errorResponse.errors.day = true;\n    errorResponse.errors.year = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.missingdayyear;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.missingdayyear;\n\n    // No month and year set\n  } else if (day && !month && !year) {\n    errorResponse.errors.year = true;\n    errorResponse.errors.month = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.missingmonthyear;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.missingmonthyear;\n\n    // Year is formatted incorrectly\n  } else if (year.length != 4) {\n    errorResponse.errors.year = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.invalidyearlength;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.invalidyearlength;\n\n    // Year format\n  } else if (year < 0 || year > 9999) {\n    errorResponse.errors.year = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.invalidyear;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.invalidyear;\n\n    // Invalid day\n  } else {\n    errorResponse.errors.day = true;\n    errorResponse.reason.en = dateInputErrorMessage.en.invalidday;\n    errorResponse.reason.fr = dateInputErrorMessage.fr.invalidday;\n  }\n\n  return errorResponse;\n};\n\nexport const requiredRadio: Validator<string> = {\n  validate: (value: string) => {\n    return {\n      valid: value != null && value != '',\n      reason: {\n        en: 'Choose an option to continue.',\n        fr: 'Choisissez une option pour continuer.',\n      },\n    };\n  },\n};\n\nexport const requiredCheckboxGroup: Validator<Array<string>> = {\n  validate: (value: Array<string>) => {\n    return {\n      valid: value.length > 0,\n      reason: {\n        en: 'Choose an option to continue.',\n        fr: 'Choisissez une option pour continuer.',\n      },\n    };\n  },\n};\n\nexport const requiredCheckboxSingle: Validator<Array<string>> = {\n  validate: (value: Array<string>) => {\n    return {\n      valid: value.length > 0,\n      reason: {\n        en: 'You must check the box to continue.',\n        fr: 'Vous devez cocher la case pour continuer.',\n      },\n    };\n  },\n};\n","import {\n  Validator,\n  ValidatorEntry,\n  defaultValidator,\n  combineValidators,\n} from './validator';\nimport {\n  requiredField,\n  requiredEmailField,\n  requiredFileInput,\n  requiredSelectField,\n  requiredDateInput,\n  requiredRadio,\n  requiredCheckboxGroup,\n  requiredCheckboxSingle,\n} from './input-validators/input-validators';\n\nexport enum ValidatorsName {\n  requiredField = 'requiredField',\n  requiredEmailField = 'requiredEmailField',\n  requiredCheck = 'requiredCheck',\n  requiredFileInput = 'requiredFileInput',\n  requiredSelectField = 'requiredSelectField',\n  requiredDateInput = 'requiredDateInput',\n  requiredRadio = 'requiredRadio',\n  requiredCheckboxGroup = 'requiredCheckboxGroup',\n  requiredCheckboxSingle = 'requiredCheckboxSingle',\n}\n\nexport function getValidator<A>(\n  list: Array<string | ValidatorEntry | Validator<A>>,\n): Validator<A> {\n  return (list || [])\n    .map(v => {\n      if (typeof v === 'string') {\n        return validatorFactory(v, null);\n      } else if (v && (v as any).name) {\n        v = v as ValidatorEntry;\n        return validatorFactory(v.name, v.options);\n      } else {\n        return v as Validator<A>;\n      }\n    })\n    .reduce(combineValidators, defaultValidator);\n}\n\nexport function validatorFactory(name: string, options: any): Validator<any> {\n  options ? options : {};\n  switch (name) {\n    case ValidatorsName.requiredField:\n      return requiredField;\n    case ValidatorsName.requiredEmailField:\n      return requiredEmailField;\n    case ValidatorsName.requiredSelectField:\n      return requiredSelectField;\n    case ValidatorsName.requiredDateInput:\n      return requiredDateInput;\n    case ValidatorsName.requiredFileInput:\n      return requiredFileInput;\n    case ValidatorsName.requiredRadio:\n      return requiredRadio;\n    case ValidatorsName.requiredCheckboxGroup:\n      return requiredCheckboxGroup;\n    case ValidatorsName.requiredCheckboxSingle:\n      return requiredCheckboxSingle;\n    default:\n      return defaultValidator;\n  }\n}\n"],"version":3}