{"version":3,"file":"gcds-topic-menu.js","sourceRoot":"","sources":["../../../../src/components/gcds-topic-menu/gcds-topic-menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Host,\n  State,\n  Method,\n  Element,\n  Listen,\n  Fragment,\n  Prop,\n  h,\n} from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport I18N from './i18n/i18n';\nimport backup from './backup/backup.min';\n\n/**\n * The theme and topic menu is a navigation to the top tasks of Government of Canada websites.\n */\n@Component({\n  tag: 'gcds-topic-menu',\n  styleUrl: 'gcds-topic-menu.css',\n  shadow: true,\n})\nexport class GcdsTopicMenu {\n  @Element() el: HTMLGcdsTopicMenuElement;\n\n  private listItems;\n\n  private themeList?: HTMLElement;\n  private menuButton?: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Sets the homepage styling\n   */\n  @Prop() home: boolean = false;\n\n  /**\n   * States\n   */\n\n  /**\n   * Open state of menu\n   */\n  @State() open = false;\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /**\n   * Queue of nav items for keyboard navigation\n   */\n  @State() navItems = [];\n\n  /**\n   * Current size based on window size\n   */\n  @State() navSize: 'desktop' | 'mobile';\n\n  /**\n   * Keyboard controls of theme and topic menu\n   */\n  @Listen('keydown', { target: 'document' })\n  async keyDownListener(e) {\n    if (\n      this.el == document.activeElement &&\n      this.themeList.contains(document.activeElement.shadowRoot.activeElement)\n    ) {\n      const key = e.key;\n      const currentIndex = this.navItems.indexOf(\n        document.activeElement.shadowRoot.activeElement,\n      );\n      const activeElement = this.navItems[currentIndex];\n\n      switch (key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          // If on last item, jump to first item\n          if (currentIndex + 1 > this.navItems.length - 1) {\n            await this.focusMenuLink(this.navItems, activeElement, 0);\n            // Jump to next item\n          } else {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              currentIndex + 1,\n            );\n          }\n          break;\n\n        case 'ArrowUp':\n          e.preventDefault();\n          // If on first item, jump to last\n          if (currentIndex - 1 < 0) {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              this.navItems.length - 1,\n            );\n            // Jump to next item\n          } else {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              currentIndex - 1,\n            );\n          }\n          break;\n\n        case 'ArrowRight':\n          e.preventDefault();\n\n          // Theme links\n          if (\n            activeElement.hasAttribute('aria-haspopup') &&\n            !activeElement.hasAttribute('data-keep-expanded')\n          ) {\n            await this.updateNavItemQueue(activeElement.parentNode.children[1]);\n            activeElement.setAttribute('aria-expanded', 'true');\n            this.navItems[0].focus();\n\n            // Most requested link - desktop\n          } else if (\n            activeElement.hasAttribute('aria-haspopup') &&\n            this.navSize == 'desktop'\n          ) {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              currentIndex + 1,\n            );\n\n            // Most requested link - mobile\n          } else if (\n            activeElement.hasAttribute('aria-haspopup') &&\n            this.navSize == 'mobile'\n          ) {\n            await this.updateNavItemQueue(activeElement.parentNode.children[1]);\n            activeElement.setAttribute('aria-expanded', 'true');\n            this.navItems[0].focus();\n          }\n          break;\n\n        case 'Enter':\n          if (activeElement.closest('ul').hasAttribute('data-top-menu')) {\n            await this.updateNavItemQueue(activeElement.parentNode.children[1]);\n            this.navItems[0].focus();\n          }\n          break;\n\n        case 'ArrowLeft':\n        case 'Escape': {\n          e.preventDefault();\n          const parentList = activeElement.closest('ul');\n\n          // In most requested menu\n          if (\n            parentList.parentNode\n              .querySelector('a')\n              .hasAttribute('data-keep-expanded')\n          ) {\n            await this.updateNavItemQueue(parentList.parentNode.closest('ul'));\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              this.navItems.indexOf(parentList.parentNode.querySelector('a')),\n            );\n\n            // on mobile, close expandable area\n            if (this.navSize == 'mobile') {\n              parentList.parentNode\n                .querySelector('a')\n                .setAttribute('aria-expanded', 'false');\n            }\n\n            // Exit menu\n          } else if (parentList.parentNode.closest('ul')) {\n            await this.updateNavItemQueue(parentList.parentNode.closest('ul'));\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              this.navItems.indexOf(parentList.parentNode.querySelector('a')),\n            );\n\n            if (this.navSize == 'mobile') {\n              parentList.parentNode\n                .querySelector('a')\n                .setAttribute('aria-expanded', 'false');\n            }\n\n            // Close theme and topic menu, focus menu button\n          } else {\n            this.menuButton.focus();\n            await this.toggleNav();\n          }\n          break;\n        }\n\n        case 'Tab':\n          await this.toggleNav();\n          break;\n      }\n    }\n  }\n\n  /**\n   * Close all theme menus\n   */\n  @Method()\n  async closeAllMenus() {\n    for (let x = 0; x < this.themeList.children.length; x++) {\n      const themeLink = this.themeList.children[x].querySelector('a');\n      themeLink.setAttribute('aria-expanded', 'false');\n    }\n  }\n\n  /**\n   * Toggle open theme and topic menu\n   */\n  @Method()\n  async toggleNav() {\n    this.open = !this.open;\n\n    if (this.open) {\n      // Check window size to set the state\n      const mediaQuery = window.matchMedia('screen and (max-width: 991px)');\n      const nav = this.el as HTMLGcdsTopicMenuElement;\n\n      if (mediaQuery.matches) {\n        this.navSize = 'mobile';\n      } else {\n        this.navSize = 'desktop';\n      }\n\n      // Add change event listener to keep track of window changing size\n      mediaQuery.addEventListener('change', async e => {\n        if (e.matches) {\n          nav.updateNavSize('mobile');\n\n          nav.shadowRoot\n            .querySelectorAll('[data-keep-expanded]')\n            .forEach(el => {\n              el.setAttribute('aria-expanded', 'false');\n            });\n        } else {\n          nav.updateNavSize('desktop');\n          nav.shadowRoot\n            .querySelectorAll('[data-keep-expanded]')\n            .forEach(el => {\n              el.setAttribute('aria-expanded', 'true');\n            });\n        }\n      });\n\n      if (this.navSize == 'desktop') {\n        this.themeList.children[0].children[0].setAttribute(\n          'aria-expanded',\n          'true',\n        );\n      } else {\n        // Close most requested on mobile\n        this.el.shadowRoot\n          .querySelectorAll('[data-keep-expanded]')\n          .forEach(el => {\n            el.setAttribute('aria-expanded', 'false');\n          });\n      }\n\n      setTimeout(() => {\n        this.themeList.children[0].querySelector('a').focus();\n      }, 50);\n\n      await this.updateNavItemQueue(this.themeList);\n    } else {\n      this.closeAllMenus();\n    }\n  }\n\n  /*\n   * Pass new window size: desktop or mobile\n   */\n  @Method()\n  async updateNavSize(size) {\n    this.navSize = size;\n  }\n\n  /*\n   * Get current navSize state\n   */\n  @Method()\n  async getNavSize() {\n    return this.navSize;\n  }\n\n  /**\n   * Update keyboard focus queue\n   */\n  @Method()\n  async updateNavItemQueue(parent) {\n    const focusableElements = [];\n\n    for (let x = 0; x < parent.children.length; x++) {\n      const link = parent.children[x].querySelector('a');\n      if (link) {\n        focusableElements.push(link);\n\n        if (\n          link.hasAttribute('data-keep-expanded') &&\n          this.navSize == 'desktop'\n        ) {\n          for (\n            let c = 0;\n            c < link.parentNode.children[1].children.length;\n            c++\n          ) {\n            focusableElements.push(\n              link.parentNode.children[1].children[c].querySelector('a'),\n            );\n          }\n        }\n      }\n    }\n\n    this.navItems = focusableElements;\n  }\n\n  /**\n   * Focus menu link\n   */\n  private focusMenuLink(queue, activeElement, nextStep) {\n    if (\n      activeElement.closest('ul').hasAttribute('data-top-menu') &&\n      activeElement.hasAttribute('aria-haspopup') &&\n      !activeElement.hasAttribute('data-keep-expanded')\n    ) {\n      this.closeAllMenus();\n    } else if (\n      activeElement.hasAttribute('aria-haspopup') &&\n      !activeElement.hasAttribute('data-keep-expanded')\n    ) {\n      activeElement.setAttribute('aria-expanded', 'false');\n    }\n\n    queue[nextStep].focus();\n\n    if (\n      queue[nextStep].hasAttribute('aria-haspopup') &&\n      this.navSize == 'desktop'\n    ) {\n      queue[nextStep].setAttribute('aria-expanded', 'true');\n    }\n  }\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    try {\n      const response = await fetch(\n        `https://www.canada.ca/content/dam/canada/sitemenu/sitemenu-v2-${this.lang}.html`,\n      );\n      this.listItems = await response.text();\n    } catch (error) {\n      this.listItems = backup[this.lang];\n    }\n  }\n\n  async componentDidLoad() {\n    const hostElement = this.el;\n    let menuEnterTimer;\n\n    // Since we load the HTML, loop through elements and add event listeners to add functionality\n    for (let x = 0; x < this.themeList.children.length; x++) {\n      const themeLink = this.themeList.children[x].querySelector('a');\n\n      // Click\n      themeLink.addEventListener('click', async e => {\n        e.preventDefault();\n\n        // Open topic lists\n        if ((await hostElement.getNavSize()) == 'desktop') {\n          await hostElement.closeAllMenus();\n          themeLink.setAttribute('aria-expanded', 'true');\n        } else {\n          if (themeLink.getAttribute('aria-expanded') == 'false') {\n            themeLink.setAttribute('aria-expanded', 'true');\n            await hostElement.updateNavItemQueue(\n              themeLink.parentNode.children[1],\n            );\n            setTimeout(() => {\n              themeLink.parentNode.children[1].children[0]\n                .querySelector('a')\n                .focus();\n            }, 50);\n          } else {\n            await hostElement.closeAllMenus();\n            await hostElement.updateNavItemQueue(themeLink.closest('ul'));\n            setTimeout(() => {\n              themeLink.focus();\n            }, 50);\n          }\n        }\n      });\n\n      // Hover actions\n      themeLink.addEventListener('mouseenter', async () => {\n        // Change active theme if hovering on menuitem\n        if ((await hostElement.getNavSize()) == 'desktop') {\n          menuEnterTimer = setTimeout(async function () {\n            await hostElement.closeAllMenus();\n            themeLink.setAttribute('aria-expanded', 'true');\n          }, 400);\n        }\n      });\n      // Cancel hover timer if mouseut before completes\n      themeLink.addEventListener('mouseleave', () => {\n        clearTimeout(menuEnterTimer);\n      });\n\n      // Most requested click\n      const mostRequested = this.themeList.children[x]\n        .querySelector('ul')\n        .querySelector('[aria-haspopup]');\n      mostRequested.addEventListener('click', async e => {\n        e.preventDefault();\n        if ((await hostElement.getNavSize()) == 'mobile') {\n          if (mostRequested.getAttribute('aria-expanded') == 'true') {\n            mostRequested.setAttribute('aria-expanded', 'false');\n          } else {\n            mostRequested.setAttribute('aria-expanded', 'true');\n            const mostRequestedList =\n              mostRequested.parentNode.querySelector('ul');\n            mostRequestedList.children[0].querySelector('a').focus();\n            await hostElement.updateNavItemQueue(mostRequestedList);\n          }\n        }\n      });\n    }\n  }\n\n  render() {\n    const { home, lang } = this;\n    return (\n      <Host>\n        <nav class=\"gcds-topic-menu\" aria-labelledby=\"gcds-topic-menu__heading\">\n          <gcds-sr-only id=\"gcds-topic-menu__heading\" tag=\"h2\">\n            {I18N[lang].menuLabelFull}\n          </gcds-sr-only>\n          <button\n            aria-haspopup=\"true\"\n            aria-expanded={this.open.toString()}\n            aria-label={I18N[lang].buttonLabel}\n            onClick={async () => await this.toggleNav()}\n            ref={element => (this.menuButton = element as HTMLElement)}\n            class={home && 'gcds-topic-menu--home'}\n          >\n            {this.lang == 'en' ? (\n              <>\n                <gcds-sr-only tag=\"span\">\n                  {I18N[lang].menuLabelHidden}\n                </gcds-sr-only>\n                {I18N[lang].menuToggle}\n              </>\n            ) : (\n              <>\n                {I18N[lang].menuToggle}\n                <gcds-sr-only tag=\"span\">\n                  {I18N[lang].menuLabelHidden}\n                </gcds-sr-only>\n              </>\n            )}\n            <gcds-icon\n              name=\"chevron-down\"\n              margin-left=\"100\"\n              size=\"text-small\"\n            ></gcds-icon>\n          </button>\n          <ul\n            role=\"menu\"\n            aria-orientation=\"vertical\"\n            data-top-menu\n            innerHTML={this.listItems}\n            ref={element => (this.themeList = element as HTMLElement)}\n          ></ul>\n        </nav>\n      </Host>\n    );\n  }\n}\n"]}