{"version":3,"file":"gcds-notice.js","sourceRoot":"","sources":["../../../src/components/gcds-notice/gcds-notice.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, State, h } from '@stencil/core';\nimport { assignLanguage, observerConfig, logError } from '../../utils/utils';\nimport i18n from './i18n/i18n';\n\n@Component({\n  tag: 'gcds-notice',\n  styleUrl: 'gcds-notice.css',\n  shadow: true,\n})\nexport class GcdsNotice {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Set notice type.\n   */\n  @Prop() type!: 'danger' | 'info' | 'success' | 'warning';\n  validateType() {\n    if (!this.type) {\n      this.errors.push('type');\n    } else if (this.errors.includes('type')) {\n      this.errors.splice(this.errors.indexOf('type'), 1);\n    }\n  }\n\n  /**\n   * Set the notice title.\n   */\n  @Prop() noticeTitle!: string;\n  validateNoticeTitle() {\n    if (!this.noticeTitle || this.noticeTitle === '') {\n      this.errors.push('noticeTitle');\n    } else if (this.errors.includes('noticeTitle')) {\n      this.errors.splice(this.errors.indexOf('noticeTitle'), 1);\n    }\n  }\n\n  /**\n   * The notice title tag property specifies the HTML heading element for the title.\n   * This property does not modify the font size. It is used to assign the heading level\n   * in order to maintain heading hierarchy and accessibility for assistive technologies.\n   */\n  @Prop() noticeTitleTag!: 'h2' | 'h3' | 'h4' | 'h5';\n  validateNoticeTitleTag() {\n    if (\n      !this.noticeTitleTag ||\n      !['h2', 'h3', 'h4', 'h5'].includes(this.noticeTitleTag)\n    ) {\n      this.errors.push('noticeTitleTag');\n    } else if (this.errors.includes('noticeTitleTag')) {\n      this.errors.splice(this.errors.indexOf('noticeTitleTag'), 1);\n    }\n  }\n\n  /**\n   * States\n   */\n\n  /**\n   * State to track validation on properties\n   * Contains a list of properties that have an error associated with them\n   */\n  @State() errors: Array<string> = [];\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  private validateChildren() {\n    if (this.el.innerHTML.trim() == '') {\n      this.errors.push('children');\n    } else if (this.errors.includes('children')) {\n      this.errors.splice(this.errors.indexOf('children'), 1);\n    }\n  }\n\n  private validateRequiredProps() {\n    this.validateNoticeTitle();\n    this.validateType();\n    this.validateNoticeTitleTag();\n    this.validateChildren();\n\n    if (\n      this.errors.includes('type') ||\n      this.errors.includes('noticeTitle') ||\n      this.errors.includes('noticeTitleTag') ||\n      this.errors.includes('children')\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    let valid = this.validateRequiredProps();\n\n    if (!valid) {\n      logError('gcds-notice', this.errors);\n    }\n  }\n\n  render() {\n    const { type, noticeTitle, noticeTitleTag } = this;\n\n    const iconTypes = {\n      danger: 'exclamation-circle',\n      info: 'info-circle',\n      success: 'check-circle',\n      warning: 'exclamation-triangle',\n    };\n\n    return (\n      <Host>\n        {this.validateRequiredProps() && (\n          <section class={`gcds-notice notice--type-${type}`}>\n            <gcds-icon class=\"notice__icon\" size=\"h4\" name={iconTypes[type]} />\n            <div>\n              <gcds-heading\n                tag={noticeTitleTag}\n                margin-top=\"0\"\n                margin-bottom=\"100\"\n                class=\"notice__heading\"\n              >\n                <gcds-sr-only tag=\"span\">{i18n[this.lang][type]}</gcds-sr-only>\n                {noticeTitle}\n              </gcds-heading>\n              <slot></slot>\n            </div>\n          </section>\n        )}\n      </Host>\n    );\n  }\n}\n"]}